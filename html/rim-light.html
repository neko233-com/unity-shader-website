<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¾¹ç¼˜å…‰ - Unity URP 2022 LTS æ•™ç¨‹</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>URP æ•™ç¨‹</h1>
            </div>
            <nav class="nav-menu" id="navMenu">
                <div class="nav-section">
                    <h3>âœ¨ ç‰¹æ•ˆç³»ç»Ÿ</h3>
                    <ul>
                        <li><a href="dissolve.html">æº¶è§£æ•ˆæœ</a></li>
                        <li><a href="fresnel.html">è²æ¶…å°”æ•ˆæœ</a></li>
                        <li><a href="rim-light.html" class="active">è¾¹ç¼˜å…‰</a></li>
                        <li><a href="distortion.html">æ‰­æ›²æ•ˆæœ</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div class="function-page">
                <h1>è¾¹ç¼˜å…‰ (Rim Light)</h1>
                <p class="subtitle">å¢å¼ºç‰©ä½“è½®å»“çš„å…‰ç…§æ•ˆæœ</p>

                <div class="section">
                    <h2>ğŸ“š åŸç†</h2>
                    <p>è¾¹ç¼˜å…‰æœ¬è´¨ä¸Šæ˜¯è²æ¶…å°”æ•ˆåº”çš„åº”ç”¨ï¼Œä½†é€šå¸¸ä¼šåŠ å…¥å…‰æºæ–¹å‘çš„è€ƒé‡ï¼Œä½¿æ•ˆæœæ›´è‡ªç„¶ã€‚</p>
                    
                    <div class="comparison-box">
                        <div class="compare-item">
                            <h4>æ— è¾¹ç¼˜å…‰</h4>
                            <div class="rim-demo rim-none"></div>
                        </div>
                        <div class="compare-item">
                            <h4>ç®€å•è¾¹ç¼˜å…‰</h4>
                            <div class="rim-demo rim-simple"></div>
                        </div>
                        <div class="compare-item">
                            <h4>æ–¹å‘æ€§è¾¹ç¼˜å…‰</h4>
                            <div class="rim-demo rim-directional"></div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ’» ä»£ç å®ç°</h2>
                    
                    <h3>ç®€å•è¾¹ç¼˜å…‰ï¼ˆåŸºäºè²æ¶…å°”ï¼‰</h3>
                    <pre class="shader-code">// Properties
_RimColor("Rim Color", Color) = (1, 1, 1, 1)
_RimPower("Rim Power", Range(0.5, 8)) = 3

half4 frag(Varyings input) : SV_Target
{
    float3 N = normalize(input.normalWS);
    float3 V = normalize(_WorldSpaceCameraPos - input.positionWS);
    
    // è¾¹ç¼˜å…‰ = 1 - NÂ·V
    float rim = 1.0 - saturate(dot(N, V));
    rim = pow(rim, _RimPower);
    
    half4 baseColor = SAMPLE_TEXTURE2D(_BaseMap, sampler_BaseMap, input.uv);
    half3 finalColor = baseColor.rgb + _RimColor.rgb * rim;
    
    return half4(finalColor, baseColor.a);
}</pre>

                    <h3>æ–¹å‘æ€§è¾¹ç¼˜å…‰ï¼ˆè€ƒè™‘å…‰æºï¼‰</h3>
                    <pre class="shader-code">half4 frag(Varyings input) : SV_Target
{
    float3 N = normalize(input.normalWS);
    float3 V = normalize(_WorldSpaceCameraPos - input.positionWS);
    float3 L = normalize(_MainLightPosition.xyz);
    
    // åŸºç¡€è²æ¶…å°”
    float rim = 1.0 - saturate(dot(N, V));
    rim = pow(rim, _RimPower);
    
    // åªåœ¨èƒŒå…‰é¢æ˜¾ç¤ºè¾¹ç¼˜å…‰
    float NdotL = dot(N, L);
    float rimMask = smoothstep(-0.1, 0.3, -NdotL); // èƒŒå…‰é®ç½©
    
    rim *= rimMask;
    
    half4 baseColor = SAMPLE_TEXTURE2D(_BaseMap, sampler_BaseMap, input.uv);
    half3 finalColor = baseColor.rgb + _RimColor.rgb * rim * _MainLightColor.rgb;
    
    return half4(finalColor, baseColor.a);
}</pre>

                    <h3>è„‰å†²è¾¹ç¼˜å…‰ï¼ˆåŠ¨ç”»æ•ˆæœï¼‰</h3>
                    <pre class="shader-code">// ä½¿ç”¨æ—¶é—´åšè„‰å†²
float pulse = sin(_Time.y * _PulseSpeed) * 0.5 + 0.5;
float rim = 1.0 - saturate(dot(N, V));
rim = pow(rim, _RimPower) * pulse;

half3 finalColor = baseColor.rgb + _RimColor.rgb * rim;</pre>
                </div>

                <div class="section">
                    <h2>ğŸ® åº”ç”¨åœºæ™¯</h2>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>ğŸ‘¤ è§’è‰²é«˜äº®</h3>
                            <p>é€‰ä¸­ã€æ‚¬åœã€è¢«å‡»ä¸­æ—¶çš„é«˜äº®</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ğŸŒ™ æœˆå…‰è½®å»“</h3>
                            <p>é»‘å¤œåœºæ™¯çš„ç‰©ä½“è½®å»“</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ğŸ”® é­”æ³•æ•ˆæœ</h3>
                            <p>èƒ½åŠ›æ¿€æ´»ã€æ–½æ³•çŠ¶æ€</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ğŸ¨ å¡é€šæ¸²æŸ“</h3>
                            <p>å¢å¼ºå¡é€šé£æ ¼çš„æ·±åº¦æ„Ÿ</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ†š è¾¹ç¼˜å…‰ vs æè¾¹</h2>
                    
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>ç‰¹æ€§</th>
                                <th>è¾¹ç¼˜å…‰ (Rim Light)</th>
                                <th>æè¾¹ (Outline)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>å®ç°æ–¹å¼</td>
                                <td>ç‰‡æ®µç€è‰²å™¨å†…è®¡ç®—</td>
                                <td>é¢å¤– Pass æˆ–åå¤„ç†</td>
                            </tr>
                            <tr>
                                <td>æ€§èƒ½</td>
                                <td>âœ… è½»é‡</td>
                                <td>éœ€è¦é¢å¤–æ¸²æŸ“</td>
                            </tr>
                            <tr>
                                <td>æ•ˆæœ</td>
                                <td>æŸ”å’Œå‘å…‰</td>
                                <td>é”åˆ©çº¿æ¡</td>
                            </tr>
                            <tr>
                                <td>åº”ç”¨</td>
                                <td>å…‰ç…§æ•ˆæœ</td>
                                <td>å¡é€š/é€‰ä¸­é«˜äº®</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/sidebar.js"></script>
    <script src="../js/shader-highlight.js"></script>
    <script src="../js/app.js"></script>

    <style>
        .rim-demo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 10px auto;
        }
        .rim-none {
            background: radial-gradient(circle at 30% 30%, #666, #333);
        }
        .rim-simple {
            background: radial-gradient(circle at 30% 30%, #666, #333);
            box-shadow: 0 0 15px 3px rgba(100, 200, 255, 0.6);
        }
        .rim-directional {
            background: radial-gradient(circle at 30% 30%, #666, #333);
            box-shadow: -5px 5px 15px 3px rgba(100, 200, 255, 0.6);
        }
    </style>
</body>
</html>
