<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸–ç•Œç©ºé—´ - Unity URP 2022 LTS æ•™ç¨‹</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>URP æ•™ç¨‹</h1>
            </div>
            <nav class="nav-menu" id="navMenu">
                <div class="nav-section">
                    <h3>ğŸ“ åæ ‡ç©ºé—´</h3>
                    <ul>
                        <li><a href="coordinate-spaces.html">åæ ‡ç©ºé—´æ¦‚è¿°</a></li>
                        <li><a href="object-space.html">ç‰©ä½“ç©ºé—´</a></li>
                        <li><a href="world-space.html" class="active">ä¸–ç•Œç©ºé—´</a></li>
                        <li><a href="view-space.html">è§‚å¯Ÿç©ºé—´</a></li>
                        <li><a href="clip-space.html">è£å‰ªç©ºé—´</a></li>
                        <li><a href="screen-space.html">å±å¹•ç©ºé—´</a></li>
                        <li><a href="tangent-space.html">åˆ‡çº¿ç©ºé—´</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div class="function-page">
                <h1>ä¸–ç•Œç©ºé—´ (World Space)</h1>
                <p class="subtitle">åœºæ™¯ä¸­æ‰€æœ‰ç‰©ä½“å…±äº«çš„å…¨å±€åæ ‡ç³»ç»Ÿ</p>

                <div class="section">
                    <h2>ğŸ“š å®šä¹‰</h2>
                    <p>ä¸–ç•Œç©ºé—´æ˜¯æ•´ä¸ªåœºæ™¯çš„å…¨å±€åæ ‡ç³»ç»Ÿã€‚æ‰€æœ‰ç‰©ä½“ã€å…‰æºã€ç›¸æœºéƒ½åœ¨è¿™ä¸ªç»Ÿä¸€çš„åæ ‡ç³»ä¸­å®šä½ã€‚</p>
                    
                    <div class="term-card">
                        <h3>ç‰¹ç‚¹</h3>
                        <div class="term-details">
                            <ul>
                                <li>åœºæ™¯åŸç‚¹ï¼š(0, 0, 0)</li>
                                <li>æ‰€æœ‰ç‰©ä½“å…±äº«åŒä¸€åæ ‡ç³»</li>
                                <li>å…‰ç…§è®¡ç®—é€šå¸¸åœ¨æ­¤ç©ºé—´è¿›è¡Œ</li>
                                <li>Unity ä½¿ç”¨å·¦æ‰‹åæ ‡ç³»</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ’» åœ¨ Shader ä¸­ä½¿ç”¨</h2>
                    
                    <pre class="shader-code">// å¸¸ç”¨ä¸–ç•Œç©ºé—´å˜é‡å’Œå‡½æ•°
struct Varyings
{
    float4 positionCS : SV_POSITION;
    float3 positionWS : TEXCOORD0;  // ä¸–ç•Œç©ºé—´ä½ç½®
    float3 normalWS : TEXCOORD1;    // ä¸–ç•Œç©ºé—´æ³•çº¿
};

Varyings vert(Attributes input)
{
    Varyings output;
    
    // å˜æ¢åˆ°ä¸–ç•Œç©ºé—´
    output.positionWS = TransformObjectToWorld(input.positionOS.xyz);
    output.normalWS = TransformObjectToWorldNormal(input.normalOS);
    output.positionCS = TransformWorldToHClip(output.positionWS);
    
    return output;
}

half4 frag(Varyings input) : SV_Target
{
    // ä¸–ç•Œç©ºé—´ç›¸æœºä½ç½®
    float3 cameraPos = _WorldSpaceCameraPos;
    
    // è®¡ç®—è§†çº¿æ–¹å‘ï¼ˆä¸–ç•Œç©ºé—´ï¼‰
    float3 viewDir = normalize(cameraPos - input.positionWS);
    
    // ä¸»å…‰æºæ–¹å‘ï¼ˆä¸–ç•Œç©ºé—´ï¼‰
    float3 lightDir = normalize(_MainLightPosition.xyz);
    
    // å…‰ç…§è®¡ç®—...
}</pre>
                </div>

                <div class="section">
                    <h2>ğŸ® åº”ç”¨åœºæ™¯</h2>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>ğŸ’¡ å…‰ç…§è®¡ç®—</h3>
                            <p>å…‰æºæ–¹å‘ã€é˜´å½±éƒ½åœ¨ä¸–ç•Œç©ºé—´è®¡ç®—</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ğŸŒ ä¸–ç•Œ UV</h3>
                            <p>åœ°å½¢çº¹ç†å¹³é“ºï¼Œé¿å…æ¥ç¼</p>
                            <pre class="shader-code">float2 worldUV = positionWS.xz * 0.1;</pre>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ğŸŒ«ï¸ é«˜åº¦é›¾</h3>
                            <p>åŸºäºä¸–ç•Œç©ºé—´ Y åæ ‡çš„é›¾æ•ˆ</p>
                            <pre class="shader-code">float fog = saturate(positionWS.y / _FogHeight);</pre>
                        </div>
                        
                        <div class="feature-card">
                            <h3">ğŸ“ è·ç¦»æ•ˆæœ</h3>
                            <p>åŸºäºä¸æŸç‚¹è·ç¦»çš„æ•ˆæœ</p>
                            <pre class="shader-code">float dist = distance(positionWS, _EffectCenter);</pre>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ”§ å¸¸ç”¨å†…ç½®å˜é‡</h2>
                    
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>å˜é‡</th>
                                <th>è¯´æ˜</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>_WorldSpaceCameraPos</code></td>
                                <td>ç›¸æœºä¸–ç•Œç©ºé—´ä½ç½®</td>
                            </tr>
                            <tr>
                                <td><code>_MainLightPosition</code></td>
                                <td>ä¸»å…‰æºæ–¹å‘ï¼ˆæ–¹å‘å…‰ï¼‰æˆ–ä½ç½®ï¼ˆç‚¹å…‰ï¼‰</td>
                            </tr>
                            <tr>
                                <td><code>unity_ObjectToWorld</code></td>
                                <td>ç‰©ä½“ç©ºé—´åˆ°ä¸–ç•Œç©ºé—´çŸ©é˜µ</td>
                            </tr>
                            <tr>
                                <td><code>unity_WorldToObject</code></td>
                                <td>ä¸–ç•Œç©ºé—´åˆ°ç‰©ä½“ç©ºé—´çŸ©é˜µ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="nav-links">
                    <a href="object-space.html">â† ç‰©ä½“ç©ºé—´</a>
                    <a href="view-space.html">è§‚å¯Ÿç©ºé—´ â†’</a>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/sidebar.js"></script>
    <script src="../js/shader-highlight.js"></script>
    <script src="../js/app.js"></script>
</body>
</html>
