<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phong é«˜å…‰ - Unity URP 2022 LTS æ•™ç¨‹</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>URP æ•™ç¨‹</h1>
            </div>
            <nav class="nav-menu" id="navMenu">
                <div class="nav-section">
                    <h3>ğŸ’¡ å…‰ç…§ç³»ç»Ÿ</h3>
                    <ul>
                        <li><a href="lighting-overview.html">å…‰ç…§æ¦‚è¿°</a></li>
                        <li><a href="lambert.html">Lambert æ¼«åå°„</a></li>
                        <li><a href="phong.html" class="active">Phong é«˜å…‰</a></li>
                        <li><a href="blinn-phong.html">Blinn-Phong</a></li>
                        <li><a href="pbr-lighting.html">PBR å…‰ç…§</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div class="function-page">
                <h1>Phong é«˜å…‰åå°„</h1>
                <p class="subtitle">ç»å…¸é•œé¢åå°„æ¨¡å‹</p>

                <div class="section">
                    <h2>ğŸ“š åŸç†</h2>
                    <p>Phong å…‰ç…§æ¨¡å‹ç”± Bui Tuong Phong åœ¨ 1975 å¹´æå‡ºï¼Œç”¨äºæ¨¡æ‹Ÿå…‰æ»‘è¡¨é¢çš„é•œé¢åå°„ã€‚</p>
                    
                    <div class="diagram-container">
                        <svg viewBox="0 0 400 250" class="lighting-diagram">
                            <!-- è¡¨é¢ -->
                            <line x1="50" y1="180" x2="350" y2="180" stroke="#555" stroke-width="3"/>
                            
                            <!-- æ³•çº¿ -->
                            <line x1="200" y1="180" x2="200" y2="60" stroke="#00ff88" stroke-width="2"/>
                            <text x="210" y="70" fill="#00ff88" font-size="12">N (æ³•çº¿)</text>
                            
                            <!-- å…¥å°„å…‰ L -->
                            <line x1="100" y1="50" x2="200" y2="180" stroke="#ffff00" stroke-width="2"/>
                            <text x="80" y="50" fill="#ffff00" font-size="12">L (å…‰æº)</text>
                            
                            <!-- åå°„å…‰ R -->
                            <line x1="200" y1="180" x2="300" y2="50" stroke="#ff8844" stroke-width="2" stroke-dasharray="5,5"/>
                            <text x="305" y="50" fill="#ff8844" font-size="12">R (åå°„)</text>
                            
                            <!-- è§†çº¿ V -->
                            <line x1="280" y1="80" x2="200" y2="180" stroke="#4a9eff" stroke-width="2"/>
                            <text x="290" y="90" fill="#4a9eff" font-size="12">V (è§†çº¿)</text>
                            
                            <!-- å…¬å¼ -->
                            <text x="200" y="220" text-anchor="middle" fill="#ccc" font-size="14">Specular = pow(max(RÂ·V, 0), shininess)</text>
                        </svg>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ§® æ•°å­¦å…¬å¼</h2>
                    
                    <div class="term-card">
                        <h3>Phong é«˜å…‰å…¬å¼</h3>
                        <div class="term-details">
                            <p><strong>åå°„å‘é‡ï¼š</strong>R = 2(NÂ·L)N - L</p>
                            <p><strong>é«˜å…‰å¼ºåº¦ï¼š</strong>I<sub>spec</sub> = K<sub>s</sub> Ã— (RÂ·V)<sup>n</sup></p>
                            <p>å…¶ä¸­ï¼š</p>
                            <ul>
                                <li><strong>Nï¼š</strong>è¡¨é¢æ³•çº¿</li>
                                <li><strong>Lï¼š</strong>å…‰æºæ–¹å‘</li>
                                <li><strong>Vï¼š</strong>è§†çº¿æ–¹å‘</li>
                                <li><strong>Rï¼š</strong>åå°„æ–¹å‘</li>
                                <li><strong>nï¼š</strong>å…‰æ³½åº¦ï¼ˆshininessï¼‰</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ’» ä»£ç å®ç°</h2>
                    
                    <pre class="shader-code">// Phong é«˜å…‰è®¡ç®—
float3 PhongSpecular(float3 normal, float3 lightDir, float3 viewDir, 
                     float3 specColor, float shininess)
{
    // è®¡ç®—åå°„å‘é‡
    float3 reflectDir = reflect(-lightDir, normal);
    
    // RÂ·V ç‚¹ç§¯
    float spec = max(dot(reflectDir, viewDir), 0.0);
    
    // å¹‚æ¬¡è¿ç®—æ§åˆ¶é«˜å…‰èŒƒå›´
    spec = pow(spec, shininess);
    
    return specColor * spec;
}

// Fragment Shader
half4 frag(Varyings input) : SV_Target
{
    // è·å–æ–¹å‘
    float3 N = normalize(input.normalWS);
    float3 L = normalize(_MainLightPosition.xyz);
    float3 V = normalize(_WorldSpaceCameraPos - input.positionWS);
    
    // æ¼«åå°„ (Lambert)
    float NdotL = max(dot(N, L), 0);
    float3 diffuse = _BaseColor.rgb * NdotL * _MainLightColor.rgb;
    
    // é«˜å…‰ (Phong)
    float3 specular = PhongSpecular(N, L, V, _SpecularColor.rgb, _Shininess);
    
    // åˆæˆ
    float3 color = diffuse + specular;
    
    return half4(color, 1);
}</pre>
                </div>

                <div class="section">
                    <h2>ğŸšï¸ Shininess å‚æ•°</h2>
                    
                    <div class="comparison-box">
                        <div class="compare-item">
                            <h4>Shininess = 4</h4>
                            <div class="shine-demo shine-low"></div>
                            <p>å®½æ³›é«˜å…‰ï¼Œç²—ç³™è¡¨é¢</p>
                        </div>
                        <div class="compare-item">
                            <h4>Shininess = 32</h4>
                            <div class="shine-demo shine-medium"></div>
                            <p>ä¸­ç­‰é«˜å…‰ï¼Œå¡‘æ–™æ„Ÿ</p>
                        </div>
                        <div class="compare-item">
                            <h4>Shininess = 128</h4>
                            <div class="shine-demo shine-high"></div>
                            <p>é”åˆ©é«˜å…‰ï¼Œé‡‘å±æ„Ÿ</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>âš ï¸ ç¼ºç‚¹</h2>
                    
                    <div class="warning-box">
                        <h4>æ€§èƒ½é—®é¢˜</h4>
                        <p><code>reflect()</code> éœ€è¦é¢å¤–è®¡ç®—ï¼Œæ¯” Blinn-Phong ç¨æ…¢ã€‚</p>
                    </div>
                    
                    <div class="warning-box">
                        <h4>ç‰©ç†ä¸æ­£ç¡®</h4>
                        <p>ä¸ç¬¦åˆèƒ½é‡å®ˆæ’ï¼Œç°ä»£æ¸¸æˆæ›´å€¾å‘ PBRã€‚</p>
                    </div>
                </div>

                <div class="nav-links">
                    <a href="lambert.html">â† Lambert æ¼«åå°„</a>
                    <a href="blinn-phong.html">Blinn-Phong â†’</a>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/sidebar.js"></script>
    <script src="../js/shader-highlight.js"></script>
    <script src="../js/app.js"></script>

    <style>
        .shine-demo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 10px auto;
        }
        .shine-low {
            background: radial-gradient(ellipse 80% 80% at 30% 30%, #fff, #666 30%, #333 70%);
        }
        .shine-medium {
            background: radial-gradient(ellipse 50% 50% at 30% 30%, #fff, #666 40%, #333 70%);
        }
        .shine-high {
            background: radial-gradient(ellipse 20% 20% at 30% 30%, #fff, #666 50%, #333 70%);
        }
    </style>
</body>
</html>
