<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è²æ¶…å°”æ•ˆæœ - Unity URP 2022 LTS æ•™ç¨‹</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>URP æ•™ç¨‹</h1>
            </div>
            <nav class="nav-menu" id="navMenu">
                <div class="nav-section">
                    <h3>âœ¨ ç‰¹æ•ˆç³»ç»Ÿ</h3>
                    <ul>
                        <li><a href="dissolve.html">æº¶è§£æ•ˆæœ</a></li>
                        <li><a href="fresnel.html" class="active">è²æ¶…å°”æ•ˆæœ</a></li>
                        <li><a href="rim-light.html">è¾¹ç¼˜å…‰</a></li>
                        <li><a href="distortion.html">æ‰­æ›²æ•ˆæœ</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div class="function-page">
                <h1>è²æ¶…å°”æ•ˆæœ (Fresnel Effect)</h1>
                <p class="subtitle">ç‰©ä½“è¾¹ç¼˜å‘å…‰çš„ç‰©ç†åŸç†</p>

                <div class="section">
                    <h2>ğŸ“š ä»€ä¹ˆæ˜¯è²æ¶…å°”æ•ˆåº”</h2>
                    <p>è²æ¶…å°”æ•ˆåº”æ˜¯ä¸€ç§å…‰å­¦ç°è±¡ï¼šå½“å…‰çº¿ä»¥æ å°„è§’åº¦å°„å‘è¡¨é¢æ—¶ï¼Œåå°„ç‡ä¼šå¢åŠ ã€‚åœ¨ Shader ä¸­å¸¸ç”¨äºåˆ¶ä½œè¾¹ç¼˜å…‰ã€èƒ½é‡æŠ¤ç›¾ã€æ°´é¢åå°„ç­‰æ•ˆæœã€‚</p>
                    
                    <div class="diagram-container">
                        <svg viewBox="0 0 400 200" class="fresnel-diagram">
                            <!-- çƒä½“ -->
                            <circle cx="200" cy="100" r="80" fill="none" stroke="#4a9eff" stroke-width="2"/>
                            
                            <!-- è§†çº¿æ–¹å‘ -->
                            <line x1="350" y1="100" x2="280" y2="100" stroke="#ffff00" stroke-width="2" marker-end="url(#arrow)"/>
                            <text x="340" y="90" fill="#ffff00" font-size="12">è§†çº¿</text>
                            
                            <!-- ä¸­å¿ƒæ³•çº¿ -->
                            <line x1="280" y1="100" x2="320" y2="100" stroke="#00ff88" stroke-width="2"/>
                            <text x="290" y="85" fill="#00ff88" font-size="10">NÂ·V â‰ˆ 1</text>
                            <text x="290" y="120" fill="#888" font-size="10">å¼±åå°„</text>
                            
                            <!-- è¾¹ç¼˜æ³•çº¿ -->
                            <line x1="200" y1="20" x2="200" y2="50" stroke="#00ff88" stroke-width="2"/>
                            <text x="210" y="30" fill="#00ff88" font-size="10">NÂ·V â‰ˆ 0</text>
                            <text x="210" y="45" fill="#ff4444" font-size="10">å¼ºåå°„</text>
                            
                            <!-- è¾¹ç¼˜é«˜äº® -->
                            <ellipse cx="200" cy="100" rx="80" ry="80" fill="none" stroke="#ff88ff" stroke-width="8" stroke-opacity="0.3"/>
                            
                            <defs>
                                <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#ffff00"/>
                                </marker>
                            </defs>
                        </svg>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ§® æ•°å­¦åŸç†</h2>
                    
                    <div class="term-card">
                        <h3>è²æ¶…å°”å…¬å¼ï¼ˆç®€åŒ–ç‰ˆï¼‰</h3>
                        <div class="term-details">
                            <p><strong>åŸºç¡€å…¬å¼ï¼š</strong>Fresnel = 1 - (NÂ·V)</p>
                            <p><strong>å¹‚æ¬¡è°ƒæ•´ï¼š</strong>Fresnel = pow(1 - (NÂ·V), power)</p>
                            <p>å…¶ä¸­ï¼š</p>
                            <ul>
                                <li><strong>Nï¼š</strong>è¡¨é¢æ³•çº¿</li>
                                <li><strong>Vï¼š</strong>è§†çº¿æ–¹å‘</li>
                                <li><strong>powerï¼š</strong>æ§åˆ¶è¾¹ç¼˜èŒƒå›´ï¼ˆé€šå¸¸ 1-5ï¼‰</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="term-card">
                        <h3>Schlick è¿‘ä¼¼ï¼ˆç‰©ç†æ›´å‡†ç¡®ï¼‰</h3>
                        <div class="term-details">
                            <p>F = F0 + (1 - F0) Ã— (1 - NÂ·V)âµ</p>
                            <p><strong>F0ï¼š</strong>åŸºç¡€åå°„ç‡ï¼ˆå‚ç›´å…¥å°„æ—¶çš„åå°„ç‡ï¼‰</p>
                            <ul>
                                <li>æ°´ï¼šçº¦ 0.02</li>
                                <li>ç»ç’ƒï¼šçº¦ 0.04</li>
                                <li>é‡‘å±ï¼š0.5 - 1.0</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ’» ä»£ç å®ç°</h2>
                    
                    <h3>åŸºç¡€è²æ¶…å°”</h3>
                    <pre class="shader-code">// Properties
_FresnelPower("Fresnel Power", Range(0.1, 5)) = 2
_FresnelColor("Fresnel Color", Color) = (0, 0.5, 1, 1)

// Fragment Shader
half4 frag(Varyings input) : SV_Target
{
    float3 N = normalize(input.normalWS);
    float3 V = normalize(_WorldSpaceCameraPos - input.positionWS);
    
    // è®¡ç®—è²æ¶…å°”
    float NdotV = saturate(dot(N, V));
    float fresnel = pow(1.0 - NdotV, _FresnelPower);
    
    // åº”ç”¨é¢œè‰²
    half4 baseColor = SAMPLE_TEXTURE2D(_BaseMap, sampler_BaseMap, input.uv);
    half3 finalColor = lerp(baseColor.rgb, _FresnelColor.rgb, fresnel);
    
    return half4(finalColor, baseColor.a);
}</pre>

                    <h3>Schlick è¿‘ä¼¼</h3>
                    <pre class="shader-code">float FresnelSchlick(float cosTheta, float F0)
{
    return F0 + (1.0 - F0) * pow(1.0 - cosTheta, 5.0);
}

// ä½¿ç”¨
float NdotV = saturate(dot(N, V));
float fresnel = FresnelSchlick(NdotV, 0.04); // 0.04 ä¸ºéé‡‘å±é»˜è®¤å€¼</pre>

                    <h3>å¸¦é¢œè‰²çš„è²æ¶…å°”</h3>
                    <pre class="shader-code">float3 FresnelSchlickColor(float cosTheta, float3 F0)
{
    return F0 + (1.0 - F0) * pow(1.0 - cosTheta, 5.0);
}

// é‡‘å±ä½¿ç”¨ albedo ä½œä¸º F0
float3 F0 = lerp(0.04, albedo, metallic);
float3 fresnel = FresnelSchlickColor(NdotV, F0);</pre>
                </div>

                <div class="section">
                    <h2>ğŸ® åº”ç”¨åœºæ™¯</h2>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>ğŸ›¡ï¸ èƒ½é‡æŠ¤ç›¾</h3>
                            <p>ç§‘å¹»æŠ¤ç›¾çš„è¾¹ç¼˜å‘å…‰æ•ˆæœ</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ğŸŒŠ æ°´é¢åå°„</h3>
                            <p>æ°´é¢è¾¹ç¼˜åå°„å¤©ç©º</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ğŸ‘¤ è§’è‰²è½®å»“</h3>
                            <p>è§’è‰²é€‰ä¸­æˆ–è¢«å‡»ä¸­æ—¶çš„é«˜äº®</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>ğŸš— è½¦æ¼†æ•ˆæœ</h3>
                            <p>åŒå±‚æ¼†é¢çš„è¾¹ç¼˜è‰²å˜</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ’¡ å¸¸ç”¨ç»„åˆ</h2>
                    
                    <div class="tip-box">
                        <h4>è²æ¶…å°” + è‡ªå‘å…‰</h4>
                        <pre class="shader-code">// æŠ¤ç›¾æ•ˆæœ
float fresnel = pow(1.0 - NdotV, _FresnelPower);
float3 emission = _FresnelColor.rgb * fresnel * _EmissionStrength;
return half4(baseColor.rgb + emission, baseColor.a * fresnel);</pre>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/sidebar.js"></script>
    <script src="../js/shader-highlight.js"></script>
    <script src="../js/app.js"></script>
</body>
</html>
