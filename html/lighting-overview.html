<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>光照概述 - Unity URP 2022 LTS 教程</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>URP 教程</h1>
            </div>
            <nav class="nav-menu" id="navMenu">
                <div class="nav-section">
                    <h3>💡 光照系统</h3>
                    <ul>
                        <li><a href="lighting-overview.html" class="active">光照概述</a></li>
                        <li><a href="lambert.html">Lambert 漫反射</a></li>
                        <li><a href="phong.html">Phong 高光</a></li>
                        <li><a href="blinn-phong.html">Blinn-Phong</a></li>
                        <li><a href="pbr-lighting.html">PBR 光照</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div class="function-page">
                <h1>光照系统概述</h1>
                <p class="subtitle">理解计算机图形学中的光照计算</p>

                <div class="section">
                    <h2>🌟 光照模型演进</h2>
                    
                    <div class="diagram-container">
                        <svg viewBox="0 0 600 200" class="timeline-diagram">
                            <line x1="50" y1="100" x2="550" y2="100" stroke="#555" stroke-width="2"/>
                            
                            <!-- Lambert -->
                            <circle cx="100" cy="100" r="8" fill="#4a9eff"/>
                            <text x="100" y="70" text-anchor="middle" fill="#4a9eff" font-size="12">Lambert</text>
                            <text x="100" y="130" text-anchor="middle" fill="#888" font-size="10">1760</text>
                            
                            <!-- Phong -->
                            <circle cx="200" cy="100" r="8" fill="#00ff88"/>
                            <text x="200" y="70" text-anchor="middle" fill="#00ff88" font-size="12">Phong</text>
                            <text x="200" y="130" text-anchor="middle" fill="#888" font-size="10">1975</text>
                            
                            <!-- Blinn-Phong -->
                            <circle cx="300" cy="100" r="8" fill="#ffff00"/>
                            <text x="300" y="70" text-anchor="middle" fill="#ffff00" font-size="12">Blinn-Phong</text>
                            <text x="300" y="130" text-anchor="middle" fill="#888" font-size="10">1977</text>
                            
                            <!-- Cook-Torrance -->
                            <circle cx="400" cy="100" r="8" fill="#ff8844"/>
                            <text x="400" y="70" text-anchor="middle" fill="#ff8844" font-size="12">Cook-Torrance</text>
                            <text x="400" y="130" text-anchor="middle" fill="#888" font-size="10">1982</text>
                            
                            <!-- PBR -->
                            <circle cx="500" cy="100" r="8" fill="#ff44ff"/>
                            <text x="500" y="70" text-anchor="middle" fill="#ff44ff" font-size="12">PBR</text>
                            <text x="500" y="130" text-anchor="middle" fill="#888" font-size="10">2010s</text>
                        </svg>
                    </div>
                </div>

                <div class="section">
                    <h2>💡 光照组成</h2>
                    
                    <div class="term-card">
                        <h3>经典光照方程</h3>
                        <div class="term-details">
                            <p><strong>最终颜色 = 环境光 + 漫反射 + 镜面反射</strong></p>
                            <p>Final = Ambient + Diffuse + Specular</p>
                        </div>
                    </div>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>🌫️ 环境光 (Ambient)</h3>
                            <p>模拟环境中的间接光照</p>
                            <p><code>I_a × K_a</code></p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>☀️ 漫反射 (Diffuse)</h3>
                            <p>粗糙表面的散射光</p>
                            <p><code>I_d × K_d × (N·L)</code></p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>✨ 镜面反射 (Specular)</h3>
                            <p>光滑表面的高光</p>
                            <p><code>I_s × K_s × (R·V)^n</code></p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>📊 模型对比</h2>
                    
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>模型</th>
                                <th>漫反射</th>
                                <th>高光</th>
                                <th>物理正确</th>
                                <th>性能</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Lambert</td>
                                <td>✅ N·L</td>
                                <td>❌</td>
                                <td>❌</td>
                                <td>⚡⚡⚡</td>
                            </tr>
                            <tr>
                                <td>Phong</td>
                                <td>✅ N·L</td>
                                <td>✅ R·V</td>
                                <td>❌</td>
                                <td>⚡⚡</td>
                            </tr>
                            <tr>
                                <td>Blinn-Phong</td>
                                <td>✅ N·L</td>
                                <td>✅ N·H</td>
                                <td>❌</td>
                                <td>⚡⚡⚡</td>
                            </tr>
                            <tr>
                                <td>PBR</td>
                                <td>✅ 能量守恒</td>
                                <td>✅ BRDF</td>
                                <td>✅</td>
                                <td>⚡</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="section">
                    <h2>🎯 URP 中的光照</h2>
                    
                    <pre class="shader-code">// 获取主光源
Light mainLight = GetMainLight();
// mainLight.direction - 光源方向
// mainLight.color - 光源颜色
// mainLight.shadowAttenuation - 阴影衰减
// mainLight.distanceAttenuation - 距离衰减

// 获取额外光源
int additionalLightsCount = GetAdditionalLightsCount();
for (int i = 0; i < additionalLightsCount; i++)
{
    Light light = GetAdditionalLight(i, positionWS);
    // 处理每个额外光源
}</pre>
                </div>

                <div class="section">
                    <h2>📚 学习路径</h2>
                    
                    <div class="steps">
                        <div class="step">
                            <span class="step-number">1</span>
                            <strong>Lambert 漫反射</strong>
                            <p>理解最基础的光照计算</p>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">2</span>
                            <strong>Phong / Blinn-Phong</strong>
                            <p>添加高光反射效果</p>
                        </div>
                        
                        <div class="step">
                            <span class="step-number">3</span>
                            <strong>PBR 光照</strong>
                            <p>物理正确的现代渲染</p>
                        </div>
                    </div>
                </div>

                <div class="nav-links">
                    <a href="lambert.html">开始学习 Lambert →</a>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/sidebar.js"></script>
    <script src="../js/shader-highlight.js"></script>
    <script src="../js/app.js"></script>
</body>
</html>
