<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blinn-Phong å…‰ç…§ - Unity URP 2022 LTS æ•™ç¨‹</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>URP æ•™ç¨‹</h1>
            </div>
            <nav class="nav-menu" id="navMenu">
                <div class="nav-section">
                    <h3>ğŸ’¡ å…‰ç…§ç³»ç»Ÿ</h3>
                    <ul>
                        <li><a href="lighting-overview.html">å…‰ç…§æ¦‚è¿°</a></li>
                        <li><a href="lambert.html">Lambert æ¼«åå°„</a></li>
                        <li><a href="phong.html">Phong é«˜å…‰</a></li>
                        <li><a href="blinn-phong.html" class="active">Blinn-Phong</a></li>
                        <li><a href="pbr-lighting.html">PBR å…‰ç…§</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div class="function-page">
                <h1>Blinn-Phong å…‰ç…§æ¨¡å‹</h1>
                <p class="subtitle">ä¼˜åŒ–ç‰ˆçš„é«˜å…‰åå°„</p>

                <div class="section">
                    <h2>ğŸ“š åŸç†</h2>
                    <p>Blinn-Phong æ˜¯å¯¹ Phong æ¨¡å‹çš„æ”¹è¿›ï¼Œç”± Jim Blinn æå‡ºã€‚ä½¿ç”¨åŠè§’å‘é‡ï¼ˆHï¼‰ä»£æ›¿åå°„å‘é‡ï¼ˆRï¼‰ï¼Œè®¡ç®—æ›´å¿«ä¸”æ•ˆæœç›¸è¿‘ã€‚</p>
                    
                    <div class="diagram-container">
                        <svg viewBox="0 0 400 260" class="lighting-diagram">
                            <!-- è¡¨é¢ -->
                            <line x1="50" y1="180" x2="350" y2="180" stroke="#555" stroke-width="3"/>
                            
                            <!-- æ³•çº¿ -->
                            <line x1="200" y1="180" x2="200" y2="60" stroke="#00ff88" stroke-width="2"/>
                            <text x="210" y="70" fill="#00ff88" font-size="12">N</text>
                            
                            <!-- å…¥å°„å…‰ L -->
                            <line x1="100" y1="50" x2="200" y2="180" stroke="#ffff00" stroke-width="2"/>
                            <text x="80" y="50" fill="#ffff00" font-size="12">L</text>
                            
                            <!-- è§†çº¿ V -->
                            <line x1="300" y1="50" x2="200" y2="180" stroke="#4a9eff" stroke-width="2"/>
                            <text x="310" y="50" fill="#4a9eff" font-size="12">V</text>
                            
                            <!-- åŠè§’å‘é‡ H -->
                            <line x1="200" y1="180" x2="200" y2="20" stroke="#ff44ff" stroke-width="2"/>
                            <text x="170" y="30" fill="#ff44ff" font-size="12">H (åŠè§’)</text>
                            
                            <!-- å…¬å¼ -->
                            <text x="200" y="220" text-anchor="middle" fill="#ccc" font-size="14">H = normalize(L + V)</text>
                            <text x="200" y="245" text-anchor="middle" fill="#ccc" font-size="14">Specular = pow(max(NÂ·H, 0), shininess)</text>
                        </svg>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ†š Phong vs Blinn-Phong</h2>
                    
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>ç‰¹æ€§</th>
                                <th>Phong</th>
                                <th>Blinn-Phong</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>è®¡ç®—æ–¹å¼</td>
                                <td>RÂ·V (åå°„Â·è§†çº¿)</td>
                                <td>NÂ·H (æ³•çº¿Â·åŠè§’)</td>
                            </tr>
                            <tr>
                                <td>æ€§èƒ½</td>
                                <td>éœ€è¦ reflect()</td>
                                <td>âœ… æ›´å¿«</td>
                            </tr>
                            <tr>
                                <td>è§†è§‰æ•ˆæœ</td>
                                <td>é«˜å…‰æ›´é›†ä¸­</td>
                                <td>é«˜å…‰ç¨å®½</td>
                            </tr>
                            <tr>
                                <td>ä½¿ç”¨åœºæ™¯</td>
                                <td>è¾ƒå°‘ä½¿ç”¨</td>
                                <td>âœ… è¡Œä¸šæ ‡å‡†</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="section">
                    <h2>ğŸ’» ä»£ç å®ç°</h2>
                    
                    <pre class="shader-code">// Blinn-Phong é«˜å…‰è®¡ç®—
float3 BlinnPhongSpecular(float3 normal, float3 lightDir, float3 viewDir, 
                          float3 specColor, float smoothness)
{
    // è®¡ç®—åŠè§’å‘é‡
    float3 halfDir = normalize(lightDir + viewDir);
    
    // NÂ·H ç‚¹ç§¯
    float NdotH = max(dot(normal, halfDir), 0.0);
    
    // å¹‚æ¬¡è¿ç®—
    float spec = pow(NdotH, smoothness);
    
    return specColor * spec;
}

// Fragment Shader å®Œæ•´å®ç°
half4 frag(Varyings input) : SV_Target
{
    // è§„èŒƒåŒ–æ–¹å‘å‘é‡
    float3 N = normalize(input.normalWS);
    float3 L = normalize(_MainLightPosition.xyz);
    float3 V = normalize(_WorldSpaceCameraPos - input.positionWS);
    
    // è·å–å…‰ç…§
    Light mainLight = GetMainLight();
    
    // ç¯å¢ƒå…‰
    float3 ambient = _GlossyEnvironmentColor.rgb * _BaseColor.rgb * 0.1;
    
    // æ¼«åå°„ (Lambert)
    float NdotL = max(dot(N, L), 0);
    float3 diffuse = _BaseColor.rgb * NdotL * mainLight.color;
    
    // é«˜å…‰ (Blinn-Phong)
    float3 specular = BlinnPhongSpecular(N, L, V, _SpecularColor.rgb, _Smoothness * 128);
    specular *= mainLight.color;
    
    // åˆæˆæœ€ç»ˆé¢œè‰²
    float3 color = ambient + diffuse + specular;
    
    return half4(color, _BaseColor.a);
}</pre>
                </div>

                <div class="section">
                    <h2>ğŸ¯ URP Lit Shader ä¸­çš„åº”ç”¨</h2>
                    
                    <p>URP çš„ Lit Shader é»˜è®¤ä½¿ç”¨ PBRï¼Œä½†ä¹Ÿæ”¯æŒç®€å•çš„ Blinn-Phongï¼š</p>
                    
                    <pre class="shader-code">// URP Simple Lit ä½¿ç”¨çš„æ˜¯ Blinn-Phong
// ä½ç½®: Packages/com.unity.render-pipelines.universal/Shaders/SimpleLitInput.hlsl

// è·å– Blinn-Phong é«˜å…‰
half3 specular = LightingSpecular(lightColor, lightDir, normalWS, viewDir, 
                                   specularGloss, smoothness);</pre>
                </div>

                <div class="section">
                    <h2>ğŸ’¡ ä¼˜åŒ–æŠ€å·§</h2>
                    
                    <div class="tip-box">
                        <h4>æ€§èƒ½ä¼˜åŒ–</h4>
                        <ul>
                            <li>åœ¨é¡¶ç‚¹ç€è‰²å™¨è®¡ç®— H å‘é‡ï¼Œå¯å‡å°‘ç‰‡æ®µè®¡ç®—é‡</li>
                            <li>ä½ç«¯è®¾å¤‡å¯ç”¨ NdotHÂ² è¿‘ä¼¼ä»£æ›¿ pow</li>
                        </ul>
                        <pre class="shader-code">// å¿«é€Ÿè¿‘ä¼¼
float spec = NdotH * NdotH * NdotH * NdotH; // ç›¸å½“äº pow(NdotH, 4)</pre>
                    </div>
                </div>

                <div class="nav-links">
                    <a href="phong.html">â† Phong é«˜å…‰</a>
                    <a href="pbr-lighting.html">PBR å…‰ç…§ â†’</a>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/sidebar.js"></script>
    <script src="../js/shader-highlight.js"></script>
    <script src="../js/app.js"></script>
</body>
</html>
