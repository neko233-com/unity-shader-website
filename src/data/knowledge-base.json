{
  "version": "2.1.0",
  "lastUpdated": "2025-01-30",
  "categories": [
    {
      "id": "basics",
      "name": "åŸºç¡€çŸ¥è¯†",
      "icon": "ğŸ“š",
      "chapters": [
        {
          "id": "dl-fundamentals",
          "title": "æ·±åº¦å­¦ä¹ åŸºç¡€",
          "icon": "ğŸ§ ",
          "sections": {
            "terminology": {
              "title": "ä¸“ä¸šæœ¯è¯­",
              "items": [
                {"term": "ç¥ç»ç½‘ç»œ", "english": "Neural Network", "desc": "ç”±å¤šå±‚äººå·¥ç¥ç»å…ƒç»„æˆçš„è®¡ç®—æ¨¡å‹ï¼Œæ¨¡æ‹Ÿç”Ÿç‰©ç¥ç»ç³»ç»Ÿ"},
                {"term": "åå‘ä¼ æ’­", "english": "Backpropagation", "desc": "è®¡ç®—æ¢¯åº¦å¹¶ä»è¾“å‡ºå±‚å‘è¾“å…¥å±‚ä¼ æ’­è¯¯å·®çš„è®­ç»ƒç®—æ³•"},
                {"term": "æ¿€æ´»å‡½æ•°", "english": "Activation Function", "desc": "å¼•å…¥éçº¿æ€§çš„å‡½æ•°ï¼Œå¦‚ReLUã€Sigmoidã€Tanh"},
                {"term": "æŸå¤±å‡½æ•°", "english": "Loss Function", "desc": "è¡¡é‡é¢„æµ‹å€¼ä¸çœŸå®å€¼å·®å¼‚çš„å‡½æ•°"},
                {"term": "æ¢¯åº¦ä¸‹é™", "english": "Gradient Descent", "desc": "æ²¿æ¢¯åº¦åæ–¹å‘æ›´æ–°å‚æ•°çš„ä¼˜åŒ–ç®—æ³•"},
                {"term": "å­¦ä¹ ç‡", "english": "Learning Rate", "desc": "æ§åˆ¶æ¯æ¬¡å‚æ•°æ›´æ–°æ­¥é•¿çš„è¶…å‚æ•°"},
                {"term": "è¿‡æ‹Ÿåˆ", "english": "Overfitting", "desc": "æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°å¥½ä½†æ³›åŒ–èƒ½åŠ›å·®"},
                {"term": "æ­£åˆ™åŒ–", "english": "Regularization", "desc": "é˜²æ­¢è¿‡æ‹Ÿåˆçš„æŠ€æœ¯ï¼Œå¦‚L1/L2æ­£åˆ™åŒ–ã€Dropout"}
              ]
            },
            "basic": {
              "title": "åŸºç¡€æ¦‚å¿µ",
              "content": "### ğŸ¯ ä»€ä¹ˆæ˜¯æ·±åº¦å­¦ä¹ ï¼Ÿ\n\næ·±åº¦å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œä½¿ç”¨å¤šå±‚ç¥ç»ç½‘ç»œè‡ªåŠ¨å­¦ä¹ æ•°æ®çš„å±‚æ¬¡åŒ–è¡¨ç¤ºã€‚\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">ğŸ”® ç¥ç»ç½‘ç»œç»“æ„ç¤ºæ„</div>\n<div class=\"neural-network\" id=\"nn-demo\">\n<div class=\"nn-layer\">\n<div class=\"nn-layer-label\">è¾“å…¥å±‚</div>\n<div class=\"nn-neuron input\">xâ‚</div>\n<div class=\"nn-neuron input\">xâ‚‚</div>\n<div class=\"nn-neuron input\">xâ‚ƒ</div>\n</div>\n<div class=\"nn-layer\">\n<div class=\"nn-layer-label\">éšè—å±‚</div>\n<div class=\"nn-neuron hidden\">hâ‚</div>\n<div class=\"nn-neuron hidden\">hâ‚‚</div>\n<div class=\"nn-neuron hidden\">hâ‚ƒ</div>\n<div class=\"nn-neuron hidden\">hâ‚„</div>\n</div>\n<div class=\"nn-layer\">\n<div class=\"nn-layer-label\">è¾“å‡ºå±‚</div>\n<div class=\"nn-neuron output\">yâ‚</div>\n<div class=\"nn-neuron output\">yâ‚‚</div>\n</div>\n</div>\n</div>\n\n### ğŸ“Š æ ¸å¿ƒç»„ä»¶\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>ğŸ”µ ç¥ç»å…ƒ Neuron</h4>\n<ul>\n<li>æ¥æ”¶å¤šä¸ªè¾“å…¥ä¿¡å·</li>\n<li>åŠ æƒæ±‚å’Œ + åç½®</li>\n<li>é€šè¿‡æ¿€æ´»å‡½æ•°è¾“å‡º</li>\n</ul>\n</div>\n<div class=\"comparison-card orange\">\n<h4>ğŸ“š å±‚ Layer</h4>\n<ul>\n<li>è¾“å…¥å±‚ï¼šæ¥æ”¶åŸå§‹æ•°æ®</li>\n<li>éšè—å±‚ï¼šç‰¹å¾æå–è½¬æ¢</li>\n<li>è¾“å‡ºå±‚ï¼šäº§ç”Ÿæœ€ç»ˆç»“æœ</li>\n</ul>\n</div>\n<div class=\"comparison-card purple\">\n<h4>ğŸ”— è¿æ¥ Connection</h4>\n<ul>\n<li>æ¯ä¸ªè¿æ¥æœ‰æƒé‡ w</li>\n<li>æƒé‡é€šè¿‡è®­ç»ƒå­¦ä¹ </li>\n<li>å†³å®šä¿¡æ¯ä¼ é€’å¼ºåº¦</li>\n</ul>\n</div>\n</div>\n\n### ğŸ§® ç¥ç»å…ƒè®¡ç®—å…¬å¼\n\n<div class=\"formula-box\">\n<div class=\"formula\">y = f( Î£(wáµ¢ Â· xáµ¢) + b )</div>\n<div class=\"formula-label\">å…¶ä¸­ f æ˜¯æ¿€æ´»å‡½æ•°ï¼Œw æ˜¯æƒé‡ï¼Œx æ˜¯è¾“å…¥ï¼Œb æ˜¯åç½®</div>\n</div>\n\n### ğŸ”„ å‰å‘ä¼ æ’­ vs åå‘ä¼ æ’­\n\n<div class=\"animation-demo\">\n<div class=\"animation-demo-title\">æ•°æ®æµåŠ¨è¿‡ç¨‹</div>\n<div class=\"forward-pass\">\n<div class=\"data-flow\">\n<div class=\"data-node\" style=\"background:#48bb78;color:white;\">è¾“å…¥ X</div>\n<div class=\"data-arrow\">â†’</div>\n<div class=\"data-node\" style=\"background:#667eea;color:white;\">éšè—å±‚</div>\n<div class=\"data-arrow\">â†’</div>\n<div class=\"data-node\" style=\"background:#ed8936;color:white;\">è¾“å‡º Å¶</div>\n<div class=\"data-arrow\">â†’</div>\n<div class=\"data-node\" style=\"background:#f56565;color:white;\">æŸå¤± L</div>\n</div>\n</div>\n</div>\n\n<div class=\"steps\">\n<div class=\"step\">\n<div class=\"step-number\">1</div>\n<div class=\"step-label\">å‰å‘ä¼ æ’­è®¡ç®—è¾“å‡º</div>\n</div>\n<div class=\"step\">\n<div class=\"step-number\">2</div>\n<div class=\"step-label\">è®¡ç®—æŸå¤±å‡½æ•°</div>\n</div>\n<div class=\"step\">\n<div class=\"step-number\">3</div>\n<div class=\"step-label\">åå‘ä¼ æ’­æ¢¯åº¦</div>\n</div>\n<div class=\"step\">\n<div class=\"step-number\">4</div>\n<div class=\"step-label\">æ›´æ–°æƒé‡å‚æ•°</div>\n</div>\n</div>"
            },
            "advanced": {
              "title": "è¿›é˜¶çŸ¥è¯†",
              "content": "### âš¡ æ¿€æ´»å‡½æ•°å¯¹æ¯”\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">å¸¸ç”¨æ¿€æ´»å‡½æ•°å›¾å½¢</div>\n<div class=\"ascii-diagram\">\n     ReLU                  Sigmoid                 Tanh\n       â”‚                      â”‚                      â”‚\n   1.0 â”¤      â•±            1.0â”¤    â”€â”€â”€â”€â”€â”€â”€â”€       1.0â”¤    â”€â”€â”€â”€â”€â”€â”€â”€\n       â”‚     â•±                â”‚   â•±                  â”‚   â•±\n   0.5 â”¤    â•±              0.5â”¤  â•±               0.0 â”¼â”€â”€â•±â”€â”€â”€â”€â”€â”€â”€â”€\n       â”‚   â•±                  â”‚ â•±                    â”‚ â•±\n   0.0 â”¼â”€â”€â”€â”€â”€â”€            0.0 â”¼â”€â”€â”€â”€â”€â”€â”€â”€         -1.0â”¤â•±\n       â””â”€â”€â”€â”€â”€â”€x               â””â”€â”€â”€â”€â”€â”€â”€x              â””â”€â”€â”€â”€â”€â”€â”€x\n</div>\n</div>\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>âœ… ReLU ä¼˜ç‚¹</h4>\n<ul>\n<li>è®¡ç®—ç®€å•é«˜æ•ˆ</li>\n<li>ç¼“è§£æ¢¯åº¦æ¶ˆå¤±</li>\n<li>ç¨€ç–æ¿€æ´»</li>\n</ul>\n</div>\n<div class=\"comparison-card red\">\n<h4>âš ï¸ ReLU ç¼ºç‚¹</h4>\n<ul>\n<li>Dead ReLU é—®é¢˜</li>\n<li>è¾“å‡ºéé›¶ä¸­å¿ƒ</li>\n<li>è´Ÿå€¼ç›´æ¥ç½®é›¶</li>\n</ul>\n</div>\n</div>\n\n### ğŸ›ï¸ ä¼˜åŒ–å™¨è¯¦è§£\n\n<div class=\"info-grid\">\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ¢</div>\n<div class=\"info-card-title\">SGD</div>\n<div class=\"info-card-desc\">åŸºç¡€éšæœºæ¢¯åº¦ä¸‹é™</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸš€</div>\n<div class=\"info-card-title\">Momentum</div>\n<div class=\"info-card-desc\">å¸¦åŠ¨é‡åŠ é€Ÿæ”¶æ•›</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">â­</div>\n<div class=\"info-card-title\">Adam</div>\n<div class=\"info-card-desc\">è‡ªé€‚åº”å­¦ä¹ ç‡</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ†</div>\n<div class=\"info-card-title\">AdamW</div>\n<div class=\"info-card-desc\">Transformeré¦–é€‰</div>\n</div>\n</div>\n\n### ğŸ“‰ æ­£åˆ™åŒ–æŠ€æœ¯\n\n<div class=\"progress-visual\">\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>L2æ­£åˆ™åŒ–</span><span>å¸¸ç”¨ç¨‹åº¦: 90%</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill blue\" style=\"width:90%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>Dropout</span><span>å¸¸ç”¨ç¨‹åº¦: 85%</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill green\" style=\"width:85%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>Batch Norm</span><span>å¸¸ç”¨ç¨‹åº¦: 80%</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill orange\" style=\"width:80%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>Layer Norm</span><span>å¸¸ç”¨ç¨‹åº¦: 75%</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill purple\" style=\"width:75%\"></div></div>\n</div>\n</div>\n\n### ğŸ”§ å­¦ä¹ ç‡è°ƒåº¦ç­–ç•¥\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">å­¦ä¹ ç‡å˜åŒ–æ›²çº¿</div>\n<div class=\"ascii-diagram\">\nå­¦ä¹ ç‡\n  â”‚\n  â”‚\\                    Step Decay\n  â”‚ \\___\n  â”‚     \\___\n  â”‚         \\___\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ epoch\n\n  â”‚\n  â”‚\\                    Cosine Annealing\n  â”‚ \\      /\\\n  â”‚  \\    /  \\\n  â”‚   \\__/    \\__\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ epoch\n</div>\n</div>"
            },
            "practice": {
              "title": "å®æˆ˜ä»£ç ",
              "content": "### ğŸ› ï¸ PyTorch å®ç°ç¥ç»ç½‘ç»œ\n\n<div class=\"interactive-hint\">ä»¥ä¸‹ä»£ç å¯ä»¥ç›´æ¥å¤åˆ¶è¿è¡Œï¼Œå»ºè®®åœ¨ Jupyter Notebook ä¸­å®è·µ</div>\n\n```python\nimport torch\nimport torch.nn as nn\nimport torch.optim as optim\n\n# ğŸ”¨ å®šä¹‰ç¥ç»ç½‘ç»œ\nclass SimpleNN(nn.Module):\n    def __init__(self, input_size, hidden_size, output_size):\n        super().__init__()\n        self.layers = nn.Sequential(\n            nn.Linear(input_size, hidden_size),  # å…¨è¿æ¥å±‚\n            nn.ReLU(),                           # æ¿€æ´»å‡½æ•°\n            nn.Dropout(0.2),                     # é˜²æ­¢è¿‡æ‹Ÿåˆ\n            nn.Linear(hidden_size, hidden_size),\n            nn.ReLU(),\n            nn.Linear(hidden_size, output_size)\n        )\n    \n    def forward(self, x):\n        return self.layers(x)\n\n# ğŸ¯ åˆå§‹åŒ–æ¨¡å‹\nmodel = SimpleNN(784, 256, 10)  # MNIST: 28x28=784 è¾“å…¥ï¼Œ10ç±»è¾“å‡º\nprint(f\"æ¨¡å‹å‚æ•°é‡: {sum(p.numel() for p in model.parameters()):,}\")\n\n# ğŸ“Š å®šä¹‰æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨\ncriterion = nn.CrossEntropyLoss()\noptimizer = optim.Adam(model.parameters(), lr=1e-3)\n\n# ğŸ”„ è®­ç»ƒå¾ªç¯\nfor epoch in range(num_epochs):\n    for batch_x, batch_y in dataloader:\n        # å‰å‘ä¼ æ’­\n        outputs = model(batch_x)\n        loss = criterion(outputs, batch_y)\n        \n        # åå‘ä¼ æ’­\n        optimizer.zero_grad()  # æ¸…é›¶æ¢¯åº¦\n        loss.backward()        # è®¡ç®—æ¢¯åº¦\n        optimizer.step()       # æ›´æ–°å‚æ•°\n    \n    print(f\"Epoch {epoch+1}, Loss: {loss.item():.4f}\")\n```\n\n### ğŸ“¦ TensorFlow/Keras å¯¹æ¯”å®ç°\n\n<div class=\"code-comparison\">\n<div>\n<div class=\"code-comparison-header\">PyTorch é£æ ¼</div>\n<pre><code>model = nn.Sequential(\n    nn.Linear(784, 256),\n    nn.ReLU(),\n    nn.Linear(256, 10)\n)</code></pre>\n</div>\n<div>\n<div class=\"code-comparison-header\">Keras é£æ ¼</div>\n<pre><code>model = Sequential([\n    Dense(256, activation='relu'),\n    Dense(10, activation='softmax')\n])</code></pre>\n</div>\n</div>\n\n### ğŸ“ å®Œæ•´è®­ç»ƒç¤ºä¾‹\n\n```python\nimport torch\nfrom torch.utils.data import DataLoader\nfrom torchvision import datasets, transforms\n\n# ğŸ“¥ åŠ è½½ MNIST æ•°æ®é›†\ntransform = transforms.Compose([\n    transforms.ToTensor(),\n    transforms.Normalize((0.1307,), (0.3081,))\n])\n\ntrain_dataset = datasets.MNIST('./data', train=True, download=True, transform=transform)\ntrain_loader = DataLoader(train_dataset, batch_size=64, shuffle=True)\n\n# ğŸ‹ï¸ è®­ç»ƒå‡½æ•°\ndef train(model, loader, optimizer, criterion, device):\n    model.train()\n    total_loss = 0\n    correct = 0\n    \n    for data, target in loader:\n        data, target = data.view(-1, 784).to(device), target.to(device)\n        \n        optimizer.zero_grad()\n        output = model(data)\n        loss = criterion(output, target)\n        loss.backward()\n        optimizer.step()\n        \n        total_loss += loss.item()\n        pred = output.argmax(dim=1)\n        correct += pred.eq(target).sum().item()\n    \n    accuracy = 100. * correct / len(loader.dataset)\n    return total_loss / len(loader), accuracy\n\n# ğŸš€ å¼€å§‹è®­ç»ƒ\ndevice = torch.device('cuda' if torch.cuda.is_available() else 'cpu')\nmodel = SimpleNN(784, 256, 10).to(device)\noptimizer = optim.Adam(model.parameters(), lr=1e-3)\ncriterion = nn.CrossEntropyLoss()\n\nfor epoch in range(10):\n    loss, acc = train(model, train_loader, optimizer, criterion, device)\n    print(f\"Epoch {epoch+1}: Loss={loss:.4f}, Accuracy={acc:.2f}%\")\n```"
            }
          }
        },
        {
          "id": "transformer",
          "title": "Transformeræ¶æ„",
          "icon": "ğŸ”",
          "sections": {
            "terminology": {
              "title": "ä¸“ä¸šæœ¯è¯­",
              "items": [
                {"term": "æ³¨æ„åŠ›æœºåˆ¶", "english": "Attention Mechanism", "desc": "åŠ¨æ€å…³æ³¨è¾“å…¥åºåˆ—ä¸åŒéƒ¨åˆ†çš„æœºåˆ¶"},
                {"term": "è‡ªæ³¨æ„åŠ›", "english": "Self-Attention", "desc": "Qã€Kã€Væ¥è‡ªåŒä¸€è¾“å…¥çš„æ³¨æ„åŠ›"},
                {"term": "å¤šå¤´æ³¨æ„åŠ›", "english": "Multi-Head Attention", "desc": "å¹¶è¡Œå¤šä¸ªæ³¨æ„åŠ›å¤´æ•è·ä¸åŒä¿¡æ¯"},
                {"term": "ä½ç½®ç¼–ç ", "english": "Positional Encoding", "desc": "ä¸ºåºåˆ—æ·»åŠ ä½ç½®ä¿¡æ¯"},
                {"term": "å‰é¦ˆç½‘ç»œ", "english": "Feed-Forward Network", "desc": "Transformerä¸­çš„MLPå±‚"},
                {"term": "æ®‹å·®è¿æ¥", "english": "Residual Connection", "desc": "è·³è·ƒè¿æ¥ï¼Œç¼“è§£æ¢¯åº¦æ¶ˆå¤±"},
                {"term": "å±‚å½’ä¸€åŒ–", "english": "Layer Normalization", "desc": "å¯¹æ¯ä¸ªæ ·æœ¬çš„ç‰¹å¾å½’ä¸€åŒ–"}
              ]
            },
            "basic": {
              "title": "åŸºç¡€æ¦‚å¿µ",
              "content": "### ğŸ¯ Transformer é©å‘½\n\n<div class=\"timeline\">\n<div class=\"timeline-item\">\n<div class=\"timeline-dot\"></div>\n<div class=\"timeline-content\">\n<div class=\"timeline-date\">2017å¹´</div>\n<div class=\"timeline-title\">\"Attention is All You Need\"</div>\n<div class=\"timeline-desc\">Googleæå‡ºTransformerï¼ŒæŠ›å¼ƒRNN/CNNï¼Œå®Œå…¨åŸºäºæ³¨æ„åŠ›æœºåˆ¶</div>\n</div>\n</div>\n<div class=\"timeline-item\">\n<div class=\"timeline-dot\"></div>\n<div class=\"timeline-content\">\n<div class=\"timeline-date\">2018å¹´</div>\n<div class=\"timeline-title\">BERT æ¨ªç©ºå‡ºä¸–</div>\n<div class=\"timeline-desc\">åŒå‘ç¼–ç ï¼Œåœ¨å¤šé¡¹NLPä»»åŠ¡ä¸Šå–å¾—çªç ´</div>\n</div>\n</div>\n<div class=\"timeline-item\">\n<div class=\"timeline-dot\"></div>\n<div class=\"timeline-content\">\n<div class=\"timeline-date\">2020å¹´</div>\n<div class=\"timeline-title\">GPT-3 å±•ç¤ºæ¶Œç°èƒ½åŠ›</div>\n<div class=\"timeline-desc\">1750äº¿å‚æ•°ï¼Œå°‘æ ·æœ¬å­¦ä¹ èƒ½åŠ›æƒŠäºº</div>\n</div>\n</div>\n<div class=\"timeline-item\">\n<div class=\"timeline-dot\"></div>\n<div class=\"timeline-content\">\n<div class=\"timeline-date\">2023å¹´</div>\n<div class=\"timeline-title\">GPT-4 å¤šæ¨¡æ€</div>\n<div class=\"timeline-desc\">æ”¯æŒå›¾åƒç†è§£ï¼Œæ¨ç†èƒ½åŠ›å¤§å¹…æå‡</div>\n</div>\n</div>\n</div>\n\n### ğŸ§® è‡ªæ³¨æ„åŠ›è®¡ç®—\n\n<div class=\"formula-box\">\n<div class=\"formula\">Attention(Q, K, V) = softmax(QK<sup>T</sup> / âˆšd<sub>k</sub>) Â· V</div>\n<div class=\"formula-label\">Q=æŸ¥è¯¢ K=é”® V=å€¼ d<sub>k</sub>=ç»´åº¦</div>\n</div>\n\n### ğŸ—ï¸ Transformer æ¶æ„\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">Transformer Block ç»“æ„</div>\n<div class=\"ascii-diagram\">\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚         è¾“å…¥ Embedding       â”‚\n                    â”‚      + Positional Encoding   â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                   â”‚\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚      Multi-Head Attention    â”‚\n              â”Œâ”€â”€â”€â”€â”€â”¤                              â”‚\n              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â”‚                    â”‚\n         æ®‹å·®è¿æ¥    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n              â”‚     â”‚         Add & Norm           â”‚\n              â””â”€â”€â”€â”€â–ºâ”‚                              â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                   â”‚\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚     Feed Forward Network     â”‚\n              â”Œâ”€â”€â”€â”€â”€â”¤         (2å±‚MLP)             â”‚\n              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â”‚                    â”‚\n         æ®‹å·®è¿æ¥    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n              â”‚     â”‚         Add & Norm           â”‚\n              â””â”€â”€â”€â”€â–ºâ”‚                              â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                   â”‚\n                                   â–¼\n                              è¾“å‡ºç‰¹å¾\n</div>\n</div>\n\n### ğŸ”‘ Qã€Kã€V ç›´è§‚ç†è§£\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>ğŸ” Query (æŸ¥è¯¢)</h4>\n<ul>\n<li>\"æˆ‘åœ¨æ‰¾ä»€ä¹ˆï¼Ÿ\"</li>\n<li>å½“å‰tokençš„æŸ¥è¯¢å‘é‡</li>\n<li>ç”¨äºè®¡ç®—ä¸å…¶ä»–ä½ç½®çš„ç›¸å…³æ€§</li>\n</ul>\n</div>\n<div class=\"comparison-card orange\">\n<h4>ğŸ”‘ Key (é”®)</h4>\n<ul>\n<li>\"æˆ‘æœ‰ä»€ä¹ˆç‰¹å¾ï¼Ÿ\"</li>\n<li>æ¯ä¸ªä½ç½®çš„ç´¢å¼•å‘é‡</li>\n<li>ä¸Queryè®¡ç®—ç›¸ä¼¼åº¦</li>\n</ul>\n</div>\n<div class=\"comparison-card purple\">\n<h4>ğŸ’ Value (å€¼)</h4>\n<ul>\n<li>\"æˆ‘åŒ…å«ä»€ä¹ˆä¿¡æ¯ï¼Ÿ\"</li>\n<li>æ¯ä¸ªä½ç½®çš„å®é™…å†…å®¹</li>\n<li>æŒ‰æ³¨æ„åŠ›æƒé‡åŠ æƒæ±‚å’Œ</li>\n</ul>\n</div>\n</div>\n\n<div class=\"interactive-hint\">å¯ä»¥æŠŠæ³¨æ„åŠ›æœºåˆ¶æƒ³è±¡æˆ\"æœç´¢å¼•æ“\"ï¼šQueryæ˜¯æœç´¢è¯ï¼ŒKeyæ˜¯ç½‘é¡µæ ‡é¢˜ï¼ŒValueæ˜¯ç½‘é¡µå†…å®¹</div>"
            },
            "advanced": {
              "title": "è¿›é˜¶çŸ¥è¯†",
              "content": "### ğŸ‘€ å¤šå¤´æ³¨æ„åŠ›\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">Multi-Head Attention ç¤ºæ„å›¾</div>\n<div class=\"ascii-diagram\">\n              è¾“å…¥ X\n                â”‚\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”\n        â–¼       â–¼       â–¼       â–¼\n     Head 1  Head 2  Head 3 ... Head h\n        â”‚       â”‚       â”‚       â”‚\n        â–¼       â–¼       â–¼       â–¼\n     Attn    Attn    Attn    Attn\n        â”‚       â”‚       â”‚       â”‚\n        â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜\n                â”‚\n            Concat\n                â”‚\n            Linear\n                â”‚\n              è¾“å‡º\n</div>\n</div>\n\n<div class=\"info-grid\">\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ¯</div>\n<div class=\"info-card-title\">å¤šè§’åº¦å…³æ³¨</div>\n<div class=\"info-card-desc\">æ¯ä¸ªå¤´å­¦ä¹ ä¸åŒçš„æ³¨æ„åŠ›æ¨¡å¼</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ“</div>\n<div class=\"info-card-title\">ç»´åº¦åˆ†é…</div>\n<div class=\"info-card-desc\">d_model = num_heads Ã— head_dim</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">âš¡</div>\n<div class=\"info-card-title\">å¹¶è¡Œè®¡ç®—</div>\n<div class=\"info-card-desc\">æ‰€æœ‰å¤´å¯ä»¥åŒæ—¶è®¡ç®—</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ”¢</div>\n<div class=\"info-card-title\">å¸¸è§é…ç½®</div>\n<div class=\"info-card-desc\">8å¤´æˆ–16å¤´æœ€å¸¸ç”¨</div>\n</div>\n</div>\n\n### ğŸ“ ä½ç½®ç¼–ç \n\n<div class=\"formula-box\">\n<div class=\"formula\">PE<sub>(pos, 2i)</sub> = sin(pos / 10000<sup>2i/d</sup>)</div>\n<div class=\"formula\">PE<sub>(pos, 2i+1)</sub> = cos(pos / 10000<sup>2i/d</sup>)</div>\n<div class=\"formula-label\">pos=ä½ç½® i=ç»´åº¦ç´¢å¼• d=æ€»ç»´åº¦</div>\n</div>\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>ğŸŒŠ æ­£å¼¦ä½ç½®ç¼–ç </h4>\n<ul>\n<li>ä¸éœ€è¦å­¦ä¹ ï¼Œç›´æ¥è®¡ç®—</li>\n<li>å¯å¤–æ¨åˆ°æ›´é•¿åºåˆ—</li>\n<li>åŸå§‹Transformerä½¿ç”¨</li>\n</ul>\n</div>\n<div class=\"comparison-card orange\">\n<h4>ğŸ“ å¯å­¦ä¹ ä½ç½®ç¼–ç </h4>\n<ul>\n<li>é€šè¿‡è®­ç»ƒå­¦ä¹ </li>\n<li>æ›´çµæ´»é€‚åº”ä»»åŠ¡</li>\n<li>BERTã€GPTä½¿ç”¨</li>\n</ul>\n</div>\n<div class=\"comparison-card purple\">\n<h4>ğŸ”„ RoPEæ—‹è½¬ç¼–ç </h4>\n<ul>\n<li>ç›¸å¯¹ä½ç½®ä¿¡æ¯</li>\n<li>æ›´å¥½çš„å¤–æ¨æ€§</li>\n<li>LLaMAç­‰ä½¿ç”¨</li>\n</ul>\n</div>\n</div>\n\n### âš¡ KV Cache ä¼˜åŒ–\n\n<div class=\"animation-demo\">\n<div class=\"animation-demo-title\">æ¨ç†æ—¶çš„KV Cacheæœºåˆ¶</div>\n<div class=\"forward-pass\">\n<div class=\"data-flow\">\n<div class=\"data-node\" style=\"background:#667eea;color:white;\">æ–°Token</div>\n<div class=\"data-arrow\">â†’</div>\n<div class=\"data-node\" style=\"background:#48bb78;color:white;\">è®¡ç®—Q</div>\n<div class=\"data-arrow\">â†’</div>\n<div class=\"data-node\" style=\"background:#9f7aea;color:white;\">KV Cache</div>\n<div class=\"data-arrow\">â†’</div>\n<div class=\"data-node\" style=\"background:#ed8936;color:white;\">Attention</div>\n</div>\n</div>\n</div>\n\n<div class=\"interactive-hint\">KV Cache é¿å…é‡å¤è®¡ç®—å†å²tokençš„Keyå’ŒValueï¼Œå¤§å¹…æå‡æ¨ç†é€Ÿåº¦</div>"
            },
            "practice": {
              "title": "å®æˆ˜ä»£ç ",
              "content": "### ğŸ› ï¸ ä»é›¶å®ç° Multi-Head Attention\n\n<div class=\"interactive-hint\">ç†è§£è¿™æ®µä»£ç ï¼Œä½ å°±ç†è§£äº†Transformerçš„æ ¸å¿ƒ</div>\n\n```python\nimport torch\nimport torch.nn as nn\nimport math\n\nclass MultiHeadAttention(nn.Module):\n    \"\"\"å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶å®ç°\"\"\"\n    \n    def __init__(self, d_model=512, num_heads=8):\n        super().__init__()\n        self.d_model = d_model\n        self.num_heads = num_heads\n        self.head_dim = d_model // num_heads  # æ¯ä¸ªå¤´çš„ç»´åº¦\n        \n        # Qã€Kã€V æŠ•å½±çŸ©é˜µ\n        self.W_q = nn.Linear(d_model, d_model)\n        self.W_k = nn.Linear(d_model, d_model)\n        self.W_v = nn.Linear(d_model, d_model)\n        self.W_o = nn.Linear(d_model, d_model)  # è¾“å‡ºæŠ•å½±\n    \n    def forward(self, q, k, v, mask=None):\n        batch_size = q.size(0)\n        \n        # 1ï¸âƒ£ çº¿æ€§æŠ•å½±\n        Q = self.W_q(q)  # (batch, seq_len, d_model)\n        K = self.W_k(k)\n        V = self.W_v(v)\n        \n        # 2ï¸âƒ£ åˆ†å¤´: (batch, seq_len, d_model) â†’ (batch, num_heads, seq_len, head_dim)\n        Q = Q.view(batch_size, -1, self.num_heads, self.head_dim).transpose(1, 2)\n        K = K.view(batch_size, -1, self.num_heads, self.head_dim).transpose(1, 2)\n        V = V.view(batch_size, -1, self.num_heads, self.head_dim).transpose(1, 2)\n        \n        # 3ï¸âƒ£ è®¡ç®—æ³¨æ„åŠ›åˆ†æ•°: QK^T / âˆšd_k\n        scores = torch.matmul(Q, K.transpose(-2, -1)) / math.sqrt(self.head_dim)\n        \n        # 4ï¸âƒ£ åº”ç”¨maskï¼ˆå¯é€‰ï¼Œç”¨äºdecoderï¼‰\n        if mask is not None:\n            scores = scores.masked_fill(mask == 0, -1e9)\n        \n        # 5ï¸âƒ£ Softmax å¾—åˆ°æ³¨æ„åŠ›æƒé‡\n        attn_weights = torch.softmax(scores, dim=-1)\n        \n        # 6ï¸âƒ£ åŠ æƒæ±‚å’Œ\n        attn_output = torch.matmul(attn_weights, V)\n        \n        # 7ï¸âƒ£ åˆå¹¶å¤šå¤´: (batch, num_heads, seq_len, head_dim) â†’ (batch, seq_len, d_model)\n        attn_output = attn_output.transpose(1, 2).contiguous()\n        attn_output = attn_output.view(batch_size, -1, self.d_model)\n        \n        # 8ï¸âƒ£ è¾“å‡ºæŠ•å½±\n        return self.W_o(attn_output)\n\n# ğŸ§ª æµ‹è¯•\nmha = MultiHeadAttention(d_model=512, num_heads=8)\nx = torch.randn(2, 10, 512)  # (batch=2, seq_len=10, d_model=512)\nout = mha(x, x, x)  # è‡ªæ³¨æ„åŠ›ï¼šQ=K=V=x\nprint(f\"è¾“å…¥å½¢çŠ¶: {x.shape}\")\nprint(f\"è¾“å‡ºå½¢çŠ¶: {out.shape}\")  # åº”è¯¥ç›¸åŒ\n```\n\n### ğŸ—ï¸ å®Œæ•´ Transformer Block\n\n```python\nclass TransformerBlock(nn.Module):\n    \"\"\"Transformer ç¼–ç å™¨å—\"\"\"\n    \n    def __init__(self, d_model=512, num_heads=8, d_ff=2048, dropout=0.1):\n        super().__init__()\n        \n        # å¤šå¤´æ³¨æ„åŠ›\n        self.attention = MultiHeadAttention(d_model, num_heads)\n        self.norm1 = nn.LayerNorm(d_model)\n        \n        # å‰é¦ˆç½‘ç»œ\n        self.ffn = nn.Sequential(\n            nn.Linear(d_model, d_ff),\n            nn.GELU(),  # GPTä½¿ç”¨GELUï¼ŒåŸå§‹ç”¨ReLU\n            nn.Linear(d_ff, d_model)\n        )\n        self.norm2 = nn.LayerNorm(d_model)\n        \n        self.dropout = nn.Dropout(dropout)\n    \n    def forward(self, x, mask=None):\n        # è‡ªæ³¨æ„åŠ› + æ®‹å·®è¿æ¥ + LayerNorm\n        attn_out = self.attention(x, x, x, mask)\n        x = self.norm1(x + self.dropout(attn_out))\n        \n        # FFN + æ®‹å·®è¿æ¥ + LayerNorm\n        ffn_out = self.ffn(x)\n        x = self.norm2(x + self.dropout(ffn_out))\n        \n        return x\n\n# ğŸ¯ å †å å¤šå±‚\nclass Transformer(nn.Module):\n    def __init__(self, num_layers=6, d_model=512, num_heads=8):\n        super().__init__()\n        self.layers = nn.ModuleList([\n            TransformerBlock(d_model, num_heads)\n            for _ in range(num_layers)\n        ])\n    \n    def forward(self, x, mask=None):\n        for layer in self.layers:\n            x = layer(x, mask)\n        return x\n```\n\n### ğŸ¤— ä½¿ç”¨ Hugging Face\n\n```python\nfrom transformers import AutoModel, AutoTokenizer\n\n# åŠ è½½é¢„è®­ç»ƒæ¨¡å‹\nmodel_name = \"bert-base-chinese\"\ntokenizer = AutoTokenizer.from_pretrained(model_name)\nmodel = AutoModel.from_pretrained(model_name)\n\n# ç¼–ç æ–‡æœ¬\ntext = \"Transformeræ”¹å˜äº†NLP\"\ninputs = tokenizer(text, return_tensors=\"pt\")\n\n# è·å–éšè—çŠ¶æ€\nwith torch.no_grad():\n    outputs = model(**inputs)\n\n# outputs.last_hidden_state: (1, seq_len, 768)\nprint(f\"åºåˆ—é•¿åº¦: {outputs.last_hidden_state.shape[1]}\")\nprint(f\"éšè—ç»´åº¦: {outputs.last_hidden_state.shape[2]}\")\n```"
            }
          }
        },
        {
          "id": "llm",
          "title": "å¤§è¯­è¨€æ¨¡å‹",
          "icon": "ğŸ’¬",
          "sections": {
            "terminology": {
              "title": "ä¸“ä¸šæœ¯è¯­",
              "items": [
                {"term": "é¢„è®­ç»ƒ", "english": "Pre-training", "desc": "åœ¨å¤§è§„æ¨¡æ•°æ®ä¸Šå­¦ä¹ é€šç”¨è¡¨ç¤º"},
                {"term": "å¾®è°ƒ", "english": "Fine-tuning", "desc": "åœ¨ç‰¹å®šä»»åŠ¡æ•°æ®ä¸Šç»§ç»­è®­ç»ƒ"},
                {"term": "æŒ‡ä»¤å¾®è°ƒ", "english": "Instruction Tuning", "desc": "ç”¨æŒ‡ä»¤-å›å¤å¯¹è®­ç»ƒæ¨¡å‹éµå¾ªæŒ‡ä»¤"},
                {"term": "ä¸Šä¸‹æ–‡å­¦ä¹ ", "english": "In-Context Learning", "desc": "é€šè¿‡ç¤ºä¾‹åœ¨æ¨ç†æ—¶å­¦ä¹ "},
                {"term": "æ€ç»´é“¾", "english": "Chain-of-Thought", "desc": "è®©æ¨¡å‹å±•ç¤ºæ¨ç†è¿‡ç¨‹"},
                {"term": "æ¶Œç°èƒ½åŠ›", "english": "Emergent Abilities", "desc": "è§„æ¨¡è¾¾åˆ°é˜ˆå€¼åå‡ºç°çš„èƒ½åŠ›"},
                {"term": "å¹»è§‰", "english": "Hallucination", "desc": "æ¨¡å‹ç”Ÿæˆè™šå‡æˆ–é”™è¯¯ä¿¡æ¯"},
                {"term": "å¯¹é½", "english": "Alignment", "desc": "ä½¿æ¨¡å‹è¡Œä¸ºç¬¦åˆäººç±»æ„å›¾"}
              ]
            },
            "basic": {
              "title": "åŸºç¡€æ¦‚å¿µ",
              "content": "### ğŸ† ä¸»æµå¤§æ¨¡å‹å¯¹æ¯”\n\n<div class=\"info-grid\">\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸŒŸ</div>\n<div class=\"info-card-title\">GPT-4</div>\n<div class=\"info-card-value\">~1.8T</div>\n<div class=\"info-card-desc\">OpenAI Â· æœ€å¼ºé€šç”¨</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ¦™</div>\n<div class=\"info-card-title\">LLaMA 3</div>\n<div class=\"info-card-value\">8B-405B</div>\n<div class=\"info-card-desc\">Meta Â· å¼€æºæœ€å¼º</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ”®</div>\n<div class=\"info-card-title\">Claude</div>\n<div class=\"info-card-value\">-</div>\n<div class=\"info-card-desc\">Anthropic Â· å®‰å…¨</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸŒ</div>\n<div class=\"info-card-title\">Qwen 2.5</div>\n<div class=\"info-card-value\">0.5B-72B</div>\n<div class=\"info-card-desc\">é˜¿é‡Œ Â· ä¸­æ–‡ä¼˜ç§€</div>\n</div>\n</div>\n\n### ğŸ“ è®­ç»ƒä¸‰é˜¶æ®µ\n\n<div class=\"steps\">\n<div class=\"step\">\n<div class=\"step-number\">1</div>\n<div class=\"step-label\">é¢„è®­ç»ƒ<br><small>æµ·é‡æ–‡æœ¬</small></div>\n</div>\n<div class=\"step\">\n<div class=\"step-number\">2</div>\n<div class=\"step-label\">SFT<br><small>æŒ‡ä»¤å¾®è°ƒ</small></div>\n</div>\n<div class=\"step\">\n<div class=\"step-number\">3</div>\n<div class=\"step-label\">RLHF<br><small>äººç±»å¯¹é½</small></div>\n</div>\n</div>\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">LLM è®­ç»ƒæµç¨‹</div>\n<div class=\"ascii-diagram\">\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                        Stage 1: é¢„è®­ç»ƒ                          â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚ ç½‘é¡µ    â”‚     â”‚ ä¹¦ç±    â”‚     â”‚ ä»£ç     â”‚     â”‚ è®ºæ–‡    â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â”‚\nâ”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚\nâ”‚                           â”‚                                      â”‚\nâ”‚                    [è‡ªå›å½’é¢„è®­ç»ƒ]                                â”‚\nâ”‚                    é¢„æµ‹ä¸‹ä¸€ä¸ªtoken                               â”‚\nâ”‚                           â–¼                                      â”‚\nâ”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚\nâ”‚                    â”‚  Base Model â”‚                               â”‚\nâ”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                               â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                           â”‚\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      Stage 2: SFT ç›‘ç£å¾®è°ƒ                       â”‚\nâ”‚                                                                  â”‚\nâ”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚\nâ”‚     â”‚ æŒ‡ä»¤: è§£é‡Šé‡å­è®¡ç®—  â”‚  â†’   â”‚ å›å¤: é‡å­è®¡ç®—æ˜¯... â”‚          â”‚\nâ”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚\nâ”‚                           â–¼                                      â”‚\nâ”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚\nâ”‚                    â”‚  SFT Model  â”‚                               â”‚\nâ”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                               â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                           â”‚\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      Stage 3: RLHF å¯¹é½                          â”‚\nâ”‚                                                                  â”‚\nâ”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚\nâ”‚     â”‚ å›ç­” A  â”‚   vs   â”‚ å›ç­” B  â”‚   â†’    â”‚ äººç±»åå¥½ â”‚           â”‚\nâ”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â”‚\nâ”‚                                                â”‚                 â”‚\nâ”‚                                         å¥–åŠ±æ¨¡å‹è®­ç»ƒ             â”‚\nâ”‚                                                â”‚                 â”‚\nâ”‚                                         PPOå¼ºåŒ–å­¦ä¹               â”‚\nâ”‚                           â–¼                                      â”‚\nâ”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚\nâ”‚                    â”‚ Chat Model  â”‚  â† æœ€ç»ˆå¯ç”¨æ¨¡å‹               â”‚\nâ”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</div>\n</div>\n\n### ğŸ’¡ æ¶Œç°èƒ½åŠ›\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">æ¨¡å‹è§„æ¨¡ä¸èƒ½åŠ›çš„å…³ç³»</div>\n<div class=\"ascii-diagram\">\nèƒ½åŠ›\n  â”‚\n  â”‚                              âœ¦ å¤æ‚æ¨ç†\n  â”‚                           âœ¦ ä»£ç ç”Ÿæˆ\n  â”‚                        âœ¦ æ•°å­¦è¯æ˜\n  â”‚                     âœ¦ å¤šæ­¥æ¨ç†\n  â”‚                  âœ¦ æŒ‡ä»¤éµå¾ª\n  â”‚               âœ¦ ç¿»è¯‘\n  â”‚            âœ¦ æ‘˜è¦\n  â”‚         âœ¦ é—®ç­”\n  â”‚      âœ¦ è¡¥å…¨\n  â”‚   âœ¦\n  â”‚ âœ¦\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‚æ•°é‡\n     1B    10B    100B   1T\n\n  â†‘ æ¶Œç°ï¼šèƒ½åŠ›åœ¨æŸä¸ªè§„æ¨¡é˜ˆå€¼åçªç„¶å‡ºç°\n</div>\n</div>"
            },
            "advanced": {
              "title": "è¿›é˜¶çŸ¥è¯†",
              "content": "### âš–ï¸ RLHF vs DPO\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>ğŸ® RLHF (ä¼ ç»Ÿæ–¹æ³•)</h4>\n<ul>\n<li>éœ€è¦è®­ç»ƒå¥–åŠ±æ¨¡å‹</li>\n<li>PPOå¼ºåŒ–å­¦ä¹ ä¼˜åŒ–</li>\n<li>è®­ç»ƒç¨³å®šæ€§å·®</li>\n<li>è®¡ç®—æˆæœ¬é«˜</li>\n</ul>\n</div>\n<div class=\"comparison-card purple\">\n<h4>ğŸ¯ DPO (ç®€åŒ–æ–¹æ³•)</h4>\n<ul>\n<li>æ— éœ€å¥–åŠ±æ¨¡å‹</li>\n<li>ç›´æ¥ä¼˜åŒ–åå¥½</li>\n<li>æ›´ç®€å•ç¨³å®š</li>\n<li>æ•ˆæœç›¸å½“</li>\n</ul>\n</div>\n</div>\n\n<div class=\"formula-box\">\n<div class=\"formula\">L<sub>DPO</sub> = -log Ïƒ(Î² Â· (log Ï€(y<sub>w</sub>) - log Ï€(y<sub>l</sub>)))</div>\n<div class=\"formula-label\">y<sub>w</sub>=é¦–é€‰å›ç­” y<sub>l</sub>=è¾ƒå·®å›ç­” Î²=æ¸©åº¦å‚æ•°</div>\n</div>\n\n### ğŸ“ ä¸Šä¸‹æ–‡é•¿åº¦æ¼”è¿›\n\n<div class=\"progress-visual\">\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>GPT-3 (2020)</span><span>2K tokens</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill blue\" style=\"width:2%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>GPT-4 (2023)</span><span>32K tokens</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill green\" style=\"width:16%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>Claude 3 (2024)</span><span>200K tokens</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill purple\" style=\"width:100%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>Gemini 1.5 (2024)</span><span>1M tokens</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill orange\" style=\"width:100%\"></div></div>\n</div>\n</div>\n\n### ğŸ”§ é•¿ä¸Šä¸‹æ–‡æŠ€æœ¯\n\n<div class=\"info-grid\">\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ”„</div>\n<div class=\"info-card-title\">RoPE</div>\n<div class=\"info-card-desc\">æ—‹è½¬ä½ç½®ç¼–ç </div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ“</div>\n<div class=\"info-card-title\">ALiBi</div>\n<div class=\"info-card-desc\">çº¿æ€§æ³¨æ„åŠ›åç½®</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ§µ</div>\n<div class=\"info-card-title\">YaRN</div>\n<div class=\"info-card-desc\">RoPEå¤–æ¨æ’å€¼</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">âš¡</div>\n<div class=\"info-card-title\">Flash Attention</div>\n<div class=\"info-card-desc\">IOä¼˜åŒ–æ³¨æ„åŠ›</div>\n</div>\n</div>"
            },
            "practice": {
              "title": "å®æˆ˜ä»£ç ",
              "content": "### ğŸš€ æœ¬åœ°è¿è¡Œ Ollama\n\n<div class=\"interactive-hint\">Ollama æ˜¯æœ€ç®€å•çš„æœ¬åœ°å¤§æ¨¡å‹è¿è¡Œæ–¹å¼</div>\n\n```bash\n# 1ï¸âƒ£ å®‰è£… Ollama\ncurl -fsSL https://ollama.ai/install.sh | sh\n\n# 2ï¸âƒ£ è¿è¡Œæ¨¡å‹\nollama run qwen2.5:7b\n\n# 3ï¸âƒ£ å¯¹è¯\n>>> ä½ å¥½ï¼Œä»‹ç»ä¸€ä¸‹è‡ªå·±\n>>> /bye  # é€€å‡º\n```\n\n### ğŸ Python API è°ƒç”¨\n\n```python\nimport requests\n\ndef chat_with_ollama(prompt, model=\"qwen2.5:7b\"):\n    \"\"\"è°ƒç”¨æœ¬åœ° Ollama æ¨¡å‹\"\"\"\n    response = requests.post(\n        \"http://localhost:11434/api/generate\",\n        json={\n            \"model\": model,\n            \"prompt\": prompt,\n            \"stream\": False\n        }\n    )\n    return response.json()[\"response\"]\n\n# ğŸ¯ ä½¿ç”¨ç¤ºä¾‹\nresult = chat_with_ollama(\"ç”¨Pythonå†™ä¸€ä¸ªå¿«é€Ÿæ’åº\")\nprint(result)\n```\n\n### â˜ï¸ OpenAI API è°ƒç”¨\n\n```python\nfrom openai import OpenAI\n\n# åˆå§‹åŒ–å®¢æˆ·ç«¯\nclient = OpenAI(api_key=\"sk-xxx\")\n\n# ğŸ’¬ å•è½®å¯¹è¯\nresponse = client.chat.completions.create(\n    model=\"gpt-4\",\n    messages=[\n        {\"role\": \"system\", \"content\": \"ä½ æ˜¯ä¸€ä¸ªhelpfulçš„AIåŠ©æ‰‹\"},\n        {\"role\": \"user\", \"content\": \"è§£é‡Šä»€ä¹ˆæ˜¯Transformer\"}\n    ],\n    temperature=0.7,\n    max_tokens=1000\n)\n\nprint(response.choices[0].message.content)\n```\n\n### ğŸ›ï¸ LoRA å¾®è°ƒ\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">LoRA åŸç†ç¤ºæ„</div>\n<div class=\"ascii-diagram\">\nåŸå§‹æƒé‡çŸ©é˜µ W (å†»ç»“)          LoRA å¢é‡\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”\nâ”‚             â”‚              â”‚ A â”‚ Ã— â”‚ B â”‚\nâ”‚   d Ã— d     â”‚      +       â”‚dÃ—râ”‚   â”‚rÃ—dâ”‚\nâ”‚  (å¤§çŸ©é˜µ)   â”‚              â”‚   â”‚   â”‚   â”‚\nâ”‚             â”‚              â””â”€â”€â”€â”˜   â””â”€â”€â”€â”˜\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â†‘ åªè®­ç»ƒè¿™éƒ¨åˆ†\n\nä¼˜åŠ¿: r << dï¼Œå‚æ•°é‡ä» dÂ² å‡å°‘åˆ° 2Ã—dÃ—r\nä¾‹å¦‚: d=4096, r=64 â†’ å‚æ•°é‡å‡å°‘ 32 å€\n</div>\n</div>\n\n```python\nfrom peft import LoraConfig, get_peft_model\nfrom transformers import AutoModelForCausalLM\n\n# 1ï¸âƒ£ åŠ è½½åŸºç¡€æ¨¡å‹\nbase_model = AutoModelForCausalLM.from_pretrained(\n    \"Qwen/Qwen2.5-7B-Instruct\",\n    torch_dtype=torch.bfloat16,\n    device_map=\"auto\"\n)\n\n# 2ï¸âƒ£ é…ç½® LoRA\nlora_config = LoraConfig(\n    r=64,                    # ä½ç§©çŸ©é˜µçš„ç§©\n    lora_alpha=128,          # ç¼©æ”¾å› å­\n    target_modules=[         # è¦é€‚é…çš„æ¨¡å—\n        \"q_proj\", \"k_proj\", \"v_proj\", \"o_proj\",\n        \"gate_proj\", \"up_proj\", \"down_proj\"\n    ],\n    lora_dropout=0.05,\n    task_type=\"CAUSAL_LM\"\n)\n\n# 3ï¸âƒ£ åˆ›å»º PEFT æ¨¡å‹\nmodel = get_peft_model(base_model, lora_config)\n\n# ğŸ“Š æŸ¥çœ‹å¯è®­ç»ƒå‚æ•°\nmodel.print_trainable_parameters()\n# è¾“å‡º: trainable params: 83M || all params: 7.6B || 1.09%\n\n# 4ï¸âƒ£ è®­ç»ƒåä¿å­˜\nmodel.save_pretrained(\"my-lora-adapter\")\n\n# 5ï¸âƒ£ åˆå¹¶æƒé‡ï¼ˆå¯é€‰ï¼‰\nmerged_model = model.merge_and_unload()\nmerged_model.save_pretrained(\"my-merged-model\")\n```"
            }
          }
        }
      ]
    },
    {
      "id": "multimodal",
      "name": "å¤šæ¨¡æ€AI",
      "icon": "ğŸ¨",
      "chapters": [
        {
          "id": "vision",
          "title": "è§†è§‰ç†è§£",
          "icon": "ğŸ‘ï¸",
          "sections": {
            "terminology": {
              "title": "ä¸“ä¸šæœ¯è¯­",
              "items": [
                {"term": "ViT", "english": "Vision Transformer", "desc": "å°†å›¾åƒåˆ†å—åç”¨Transformerå¤„ç†"},
                {"term": "CLIP", "english": "Contrastive Language-Image Pre-training", "desc": "å›¾æ–‡å¯¹æ¯”å­¦ä¹ ï¼Œå¯¹é½è§†è§‰å’Œè¯­è¨€"},
                {"term": "å¯¹æ¯”å­¦ä¹ ", "english": "Contrastive Learning", "desc": "æ‹‰è¿‘æ­£æ ·æœ¬ï¼Œæ¨è¿œè´Ÿæ ·æœ¬"},
                {"term": "é›¶æ ·æœ¬å­¦ä¹ ", "english": "Zero-shot Learning", "desc": "æ— éœ€è®­ç»ƒæ ·æœ¬å³å¯åˆ†ç±»"},
                {"term": "å›¾åƒåµŒå…¥", "english": "Image Embedding", "desc": "å›¾åƒçš„å‘é‡è¡¨ç¤º"}
              ]
            },
            "basic": {
              "title": "åŸºç¡€æ¦‚å¿µ",
              "content": "### ğŸ‘ï¸ Vision Transformer (ViT)\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">ViT å¤„ç†æµç¨‹</div>\n<div class=\"ascii-diagram\">\n    è¾“å…¥å›¾åƒ 224Ã—224                    Patch åºåˆ—\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”\nâ”‚ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”   â”‚           â”‚ P1â”‚ P2â”‚ P3â”‚...â”‚\nâ”‚ â”‚ 1 â”‚ 2 â”‚ 3 â”‚ 4 â”‚   â”‚           â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜\nâ”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤   â”‚                  â”‚\nâ”‚ â”‚ 5 â”‚ 6 â”‚ 7 â”‚ 8 â”‚   â”‚    åˆ†å—          â–¼\nâ”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤   â”‚   â”€â”€â”€â”€â†’    çº¿æ€§æŠ•å½±å±‚\nâ”‚ â”‚ 9 â”‚10 â”‚11 â”‚12 â”‚   â”‚  16Ã—16           â”‚\nâ”‚ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤   â”‚                  â–¼\nâ”‚ â”‚13 â”‚14 â”‚15 â”‚16 â”‚   â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜   â”‚           â”‚[CLS] P1 P2...â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n                                         â”‚\n  14Ã—14 = 196 ä¸ª patches           + ä½ç½®ç¼–ç \n  æ¯ä¸ª patch 16Ã—16 åƒç´                   â”‚\n                                         â–¼\n                                   Transformer\n                                   Encoder Ã—12\n                                         â”‚\n                                         â–¼\n                                    [CLS] è¾“å‡º\n                                    ç”¨äºåˆ†ç±»\n</div>\n</div>\n\n<div class=\"info-grid\">\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ§©</div>\n<div class=\"info-card-title\">Patch Size</div>\n<div class=\"info-card-value\">16Ã—16</div>\n<div class=\"info-card-desc\">æ¯ä¸ªpatchçš„åƒç´ </div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ“Š</div>\n<div class=\"info-card-title\">åºåˆ—é•¿åº¦</div>\n<div class=\"info-card-value\">196+1</div>\n<div class=\"info-card-desc\">patches + CLS</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ¯</div>\n<div class=\"info-card-title\">éšè—ç»´åº¦</div>\n<div class=\"info-card-value\">768</div>\n<div class=\"info-card-desc\">ViT-Baseé…ç½®</div>\n</div>\n</div>\n\n### ğŸ”— CLIP å¯¹æ¯”å­¦ä¹ \n\n<div class=\"diagram\">\n<div class=\"diagram-title\">CLIP è®­ç»ƒåŸç†</div>\n<div class=\"ascii-diagram\">\n     å›¾åƒæ‰¹æ¬¡                        æ–‡æœ¬æ‰¹æ¬¡\n   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n   â”‚ ğŸ± çŒ«   â”‚                    â”‚\"ä¸€åªçŒ«\" â”‚\n   â”‚ ğŸ• ç‹—   â”‚                    â”‚\"ä¸€åªç‹—\" â”‚\n   â”‚ ğŸš— è½¦   â”‚                    â”‚\"ä¸€è¾†è½¦\" â”‚\n   â”‚ ğŸ  æˆ¿   â”‚                    â”‚\"ä¸€æ ‹æˆ¿\" â”‚\n   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜\n        â”‚                              â”‚\n        â–¼                              â–¼\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n  â”‚ å›¾åƒç¼–ç å™¨ â”‚                  â”‚ æ–‡æœ¬ç¼–ç å™¨ â”‚\n  â”‚   (ViT)   â”‚                  â”‚  (Transformer)â”‚\n  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜\n        â”‚                              â”‚\n        â–¼                              â–¼\n    å›¾åƒç‰¹å¾                        æ–‡æœ¬ç‰¹å¾\n    Iâ‚ Iâ‚‚ Iâ‚ƒ Iâ‚„                    Tâ‚ Tâ‚‚ Tâ‚ƒ Tâ‚„\n        â”‚                              â”‚\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                   â–¼\n            ç›¸ä¼¼åº¦çŸ©é˜µ\n         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n         â”‚ âœ“    âœ—    âœ—    âœ— â”‚  Iâ‚-Tâ‚ åŒ¹é…\n         â”‚ âœ—    âœ“    âœ—    âœ— â”‚  Iâ‚‚-Tâ‚‚ åŒ¹é…\n         â”‚ âœ—    âœ—    âœ“    âœ— â”‚  Iâ‚ƒ-Tâ‚ƒ åŒ¹é…\n         â”‚ âœ—    âœ—    âœ—    âœ“ â”‚  Iâ‚„-Tâ‚„ åŒ¹é…\n         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         \n         å¯¹è§’çº¿=æ­£æ ·æœ¬ï¼Œæœ€å¤§åŒ–\n         å…¶ä»–ä½ç½®=è´Ÿæ ·æœ¬ï¼Œæœ€å°åŒ–\n</div>\n</div>\n\n### ğŸ¯ é›¶æ ·æœ¬åˆ†ç±»\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>ğŸ’¡ æ— éœ€è®­ç»ƒ</h4>\n<ul>\n<li>ä¸éœ€è¦è¯¥ç±»åˆ«çš„æ ·æœ¬</li>\n<li>é€šè¿‡æ–‡æœ¬æè¿°ç†è§£æ–°ç±»åˆ«</li>\n<li>æ³›åŒ–èƒ½åŠ›æå¼º</li>\n</ul>\n</div>\n<div class=\"comparison-card orange\">\n<h4>ğŸ” å·¥ä½œåŸç†</h4>\n<ul>\n<li>ä¸ºæ¯ä¸ªç±»åˆ«åˆ›å»ºæ–‡æœ¬</li>\n<li>è®¡ç®—å›¾åƒä¸æ‰€æœ‰æ–‡æœ¬çš„ç›¸ä¼¼åº¦</li>\n<li>é€‰æ‹©ç›¸ä¼¼åº¦æœ€é«˜çš„ç±»åˆ«</li>\n</ul>\n</div>\n</div>"
            },
            "advanced": {
              "title": "è¿›é˜¶çŸ¥è¯†",
              "content": "### ğŸ“Š è§†è§‰ç¼–ç å™¨å¯¹æ¯”\n\n<div class=\"progress-visual\">\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>ViT-B/16</span><span>86M å‚æ•°</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill blue\" style=\"width:15%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>ViT-L/14</span><span>304M å‚æ•°</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill green\" style=\"width:50%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>EVA-CLIP</span><span>1B+ å‚æ•°</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill purple\" style=\"width:80%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>InternViT</span><span>6B å‚æ•°</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill orange\" style=\"width:100%\"></div></div>\n</div>\n</div>\n\n### ğŸ”Œ è§†è§‰ç‰¹å¾æ³¨å…¥LLM\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>ğŸ“Œ æŠ•å½±å±‚ (LLaVA)</h4>\n<ul>\n<li>æœ€ç®€å•çš„æ–¹æ³•</li>\n<li>MLPå°†è§†è§‰ç‰¹å¾æŠ•å½±åˆ°LLMç©ºé—´</li>\n<li>è®­ç»ƒæˆæœ¬ä½</li>\n</ul>\n</div>\n<div class=\"comparison-card orange\">\n<h4>ğŸ” Q-Former (BLIP-2)</h4>\n<ul>\n<li>å¯å­¦ä¹ çš„Query</li>\n<li>äº¤å‰æ³¨æ„åŠ›æå–ä¿¡æ¯</li>\n<li>å‹ç¼©è§†è§‰tokenæ•°é‡</li>\n</ul>\n</div>\n<div class=\"comparison-card purple\">\n<h4>ğŸ›ï¸ Resampler (Flamingo)</h4>\n<ul>\n<li>Perceiveræ¶æ„</li>\n<li>å›ºå®šæ•°é‡è¾“å‡ºtoken</li>\n<li>é«˜æ•ˆå¤„ç†å¤šå›¾åƒ</li>\n</ul>\n</div>\n</div>"
            },
            "practice": {
              "title": "å®æˆ˜ä»£ç ",
              "content": "### ğŸ–¼ï¸ CLIP é›¶æ ·æœ¬åˆ†ç±»\n\n```python\nimport torch\nfrom transformers import CLIPProcessor, CLIPModel\nfrom PIL import Image\n\n# 1ï¸âƒ£ åŠ è½½æ¨¡å‹\nmodel = CLIPModel.from_pretrained(\"openai/clip-vit-base-patch32\")\nprocessor = CLIPProcessor.from_pretrained(\"openai/clip-vit-base-patch32\")\n\n# 2ï¸âƒ£ å‡†å¤‡å›¾åƒå’Œå€™é€‰æ ‡ç­¾\nimage = Image.open(\"cat.jpg\")\nlabels = [\"a photo of a cat\", \"a photo of a dog\", \"a photo of a bird\"]\n\n# 3ï¸âƒ£ å¤„ç†è¾“å…¥\ninputs = processor(\n    text=labels,\n    images=image,\n    return_tensors=\"pt\",\n    padding=True\n)\n\n# 4ï¸âƒ£ æ¨ç†\nwith torch.no_grad():\n    outputs = model(**inputs)\n    logits = outputs.logits_per_image  # (1, 3)\n    probs = logits.softmax(dim=1)      # è½¬æ¢ä¸ºæ¦‚ç‡\n\n# 5ï¸âƒ£ è¾“å‡ºç»“æœ\nfor label, prob in zip(labels, probs[0]):\n    print(f\"{label}: {prob:.2%}\")\n# è¾“å‡º:\n# a photo of a cat: 97.32%\n# a photo of a dog: 2.15%\n# a photo of a bird: 0.53%\n```\n\n### ğŸ” æå–å›¾åƒåµŒå…¥\n\n```python\n# æå–å›¾åƒç‰¹å¾å‘é‡ï¼ˆå¯ç”¨äºç›¸ä¼¼åº¦æœç´¢ï¼‰\nfrom transformers import AutoProcessor, AutoModel\n\nmodel = AutoModel.from_pretrained(\"openai/clip-vit-base-patch32\")\nprocessor = AutoProcessor.from_pretrained(\"openai/clip-vit-base-patch32\")\n\n# æ‰¹é‡å¤„ç†å¤šå¼ å›¾åƒ\nimages = [Image.open(f\"img_{i}.jpg\") for i in range(10)]\ninputs = processor(images=images, return_tensors=\"pt\")\n\nwith torch.no_grad():\n    image_features = model.get_image_features(**inputs)\n    # å½’ä¸€åŒ–\n    image_features = image_features / image_features.norm(dim=-1, keepdim=True)\n\nprint(f\"ç‰¹å¾å½¢çŠ¶: {image_features.shape}\")  # (10, 512)\n\n# è®¡ç®—å›¾åƒä¹‹é—´çš„ç›¸ä¼¼åº¦\nsimilarity = image_features @ image_features.T\nprint(f\"ç›¸ä¼¼åº¦çŸ©é˜µ: {similarity.shape}\")  # (10, 10)\n```"
            }
          }
        },
        {
          "id": "image-gen",
          "title": "å›¾åƒç”Ÿæˆ",
          "icon": "ğŸ¨",
          "sections": {
            "terminology": {
              "title": "ä¸“ä¸šæœ¯è¯­",
              "items": [
                {"term": "æ‰©æ•£æ¨¡å‹", "english": "Diffusion Model", "desc": "é€šè¿‡å»å™ªè¿‡ç¨‹ç”Ÿæˆå›¾åƒ"},
                {"term": "Stable Diffusion", "english": "Stable Diffusion", "desc": "åœ¨æ½œç©ºé—´è¿›è¡Œæ‰©æ•£çš„å¼€æºæ¨¡å‹"},
                {"term": "VAE", "english": "Variational Autoencoder", "desc": "ç¼–ç è§£ç å™¨ï¼Œå‹ç¼©å›¾åƒåˆ°æ½œç©ºé—´"},
                {"term": "æ½œç©ºé—´", "english": "Latent Space", "desc": "ä½ç»´å‹ç¼©è¡¨ç¤ºç©ºé—´"},
                {"term": "CFG", "english": "Classifier-Free Guidance", "desc": "æ§åˆ¶ç”Ÿæˆä¸æç¤ºè¯çš„ä¸€è‡´æ€§"},
                {"term": "LoRA", "english": "Low-Rank Adaptation", "desc": "è½»é‡çº§å¾®è°ƒæ–¹æ³•"},
                {"term": "ControlNet", "english": "ControlNet", "desc": "æ·»åŠ é¢å¤–æ§åˆ¶æ¡ä»¶çš„æ¨¡å‹"}
              ]
            },
            "basic": {
              "title": "åŸºç¡€æ¦‚å¿µ",
              "content": "### ğŸŒŠ æ‰©æ•£æ¨¡å‹åŸç†\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">æ‰©æ•£è¿‡ç¨‹å¯è§†åŒ–</div>\n<div class=\"ascii-diagram\">\nå‰å‘è¿‡ç¨‹ (åŠ å™ªå£°) â†’\n\n  æ¸…æ™°å›¾åƒ      å°‘é‡å™ªå£°      ä¸­ç­‰å™ªå£°      å¤§é‡å™ªå£°      çº¯å™ªå£°\n  â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”\n  â”‚ ğŸ±  â”‚  â†’   â”‚ ğŸ±. â”‚  â†’   â”‚ .:. â”‚  â†’   â”‚ ... â”‚  â†’   â”‚ â–‘â–‘â–‘ â”‚\n  â”‚     â”‚      â”‚  .  â”‚      â”‚ . : â”‚      â”‚ ::. â”‚      â”‚ â–‘â–‘â–‘ â”‚\n  â””â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜\n    xâ‚€           xâ‚           xâ‚‚          x_{T-1}        x_T\n\nâ† åå‘è¿‡ç¨‹ (å»å™ªå£°)\n\n  çº¯å™ªå£°        é¢„æµ‹å™ªå£°      å‡å°‘å™ªå£°      æ›´æ¸…æ™°        æ¸…æ™°å›¾åƒ\n  â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”\n  â”‚ â–‘â–‘â–‘ â”‚  â†   â”‚ ... â”‚  â†   â”‚ .:. â”‚  â†   â”‚ ğŸ±. â”‚  â†   â”‚ ğŸ±  â”‚\n  â”‚ â–‘â–‘â–‘ â”‚      â”‚ ::. â”‚      â”‚ . : â”‚      â”‚  .  â”‚      â”‚     â”‚\n  â””â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”˜\n    x_T         x_{T-1}        ...          xâ‚           xâ‚€\n\nè®­ç»ƒ: å­¦ä¹ å¦‚ä½•é¢„æµ‹å¹¶å»é™¤å™ªå£°\nç”Ÿæˆ: ä»çº¯å™ªå£°å¼€å§‹ï¼Œé€æ­¥å»å™ªå¾—åˆ°å›¾åƒ\n</div>\n</div>\n\n### ğŸ—ï¸ Stable Diffusion æ¶æ„\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">SD å®Œæ•´æµç¨‹</div>\n<div class=\"ascii-diagram\">\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                                                 â”‚\nâ”‚   \"a cute cat, anime style\"                                    â”‚\nâ”‚            â”‚                                                    â”‚\nâ”‚            â–¼                                                    â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚\nâ”‚   â”‚  CLIP æ–‡æœ¬ç¼–ç å™¨ â”‚  â†’  æ–‡æœ¬åµŒå…¥ (77, 768)                   â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚\nâ”‚                                                                 â”‚\nâ”‚   éšæœºå™ªå£°                                                      â”‚\nâ”‚   (4, 64, 64)         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚\nâ”‚        â”‚              â”‚         U-Net              â”‚            â”‚\nâ”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                           â”‚            â”‚\nâ”‚                       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”‚            â”‚\nâ”‚   æ–‡æœ¬åµŒå…¥ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   â”‚Down   â”‚ â”‚ Up    â”‚    â”‚            â”‚\nâ”‚                       â”‚   â”‚Block  â”‚ â”‚Block  â”‚    â”‚            â”‚\nâ”‚   æ—¶é—´æ­¥ t â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   â”‚   â†“   â”‚ â”‚   â†‘   â”‚    â”‚            â”‚\nâ”‚                       â”‚   â”‚Middle â”‚â†’â”‚       â”‚    â”‚            â”‚\nâ”‚                       â”‚   â”‚Block  â”‚ â”‚       â”‚    â”‚            â”‚\nâ”‚                       â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚            â”‚\nâ”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚\nâ”‚                                   â”‚                             â”‚\nâ”‚                                   â–¼                             â”‚\nâ”‚                          é¢„æµ‹å™ªå£° Îµ                             â”‚\nâ”‚                                   â”‚                             â”‚\nâ”‚                            é‡å¤ 20-50 æ­¥                        â”‚\nâ”‚                                   â”‚                             â”‚\nâ”‚                                   â–¼                             â”‚\nâ”‚                        å»å™ªåçš„æ½œç©ºé—´å›¾åƒ                        â”‚\nâ”‚                           (4, 64, 64)                           â”‚\nâ”‚                                   â”‚                             â”‚\nâ”‚                                   â–¼                             â”‚\nâ”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚\nâ”‚                        â”‚   VAE è§£ç å™¨    â”‚                      â”‚\nâ”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚\nâ”‚                                 â”‚                               â”‚\nâ”‚                                 â–¼                               â”‚\nâ”‚                          æœ€ç»ˆå›¾åƒ 512Ã—512                        â”‚\nâ”‚                                                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</div>\n</div>\n\n### ğŸ›ï¸ å…³é”®å‚æ•°\n\n<div class=\"info-grid\">\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ”¢</div>\n<div class=\"info-card-title\">Steps</div>\n<div class=\"info-card-value\">20-50</div>\n<div class=\"info-card-desc\">å»å™ªæ­¥æ•°ï¼Œè¶Šå¤šè¶Šç²¾ç»†</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸšï¸</div>\n<div class=\"info-card-title\">CFG Scale</div>\n<div class=\"info-card-value\">7-12</div>\n<div class=\"info-card-desc\">æç¤ºè¯å¼•å¯¼å¼ºåº¦</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ²</div>\n<div class=\"info-card-title\">Seed</div>\n<div class=\"info-card-value\">éšæœº/å›ºå®š</div>\n<div class=\"info-card-desc\">å›ºå®šå¯å¤ç°ç»“æœ</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ“</div>\n<div class=\"info-card-title\">åˆ†è¾¨ç‡</div>\n<div class=\"info-card-value\">512/1024</div>\n<div class=\"info-card-desc\">SD1.5/SDXL</div>\n</div>\n</div>"
            },
            "advanced": {
              "title": "è¿›é˜¶çŸ¥è¯†",
              "content": "### âš¡ SD 1.5 vs SDXL\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>ğŸ–¼ï¸ SD 1.5</h4>\n<ul>\n<li>åˆ†è¾¨ç‡: 512Ã—512</li>\n<li>å‚æ•°é‡: 860M</li>\n<li>é€Ÿåº¦å¿«ï¼Œæ˜¾å­˜è¦æ±‚ä½</li>\n<li>ç”Ÿæ€ä¸°å¯Œï¼ŒLoRAå¤š</li>\n</ul>\n</div>\n<div class=\"comparison-card purple\">\n<h4>ğŸ¨ SDXL</h4>\n<ul>\n<li>åˆ†è¾¨ç‡: 1024Ã—1024</li>\n<li>å‚æ•°é‡: 2.6B</li>\n<li>è´¨é‡æ›´é«˜ï¼Œç»†èŠ‚æ›´å¥½</li>\n<li>åŒæ–‡æœ¬ç¼–ç å™¨</li>\n</ul>\n</div>\n</div>\n\n### ğŸ® ControlNet ç±»å‹\n\n<div class=\"info-grid\">\n<div class=\"info-card\">\n<div class=\"info-card-icon\">âœï¸</div>\n<div class=\"info-card-title\">Canny</div>\n<div class=\"info-card-desc\">è¾¹ç¼˜è½®å»“æ§åˆ¶</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸŒŠ</div>\n<div class=\"info-card-title\">Depth</div>\n<div class=\"info-card-desc\">æ·±åº¦å›¾æ§åˆ¶</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ¤¸</div>\n<div class=\"info-card-title\">OpenPose</div>\n<div class=\"info-card-desc\">äººä½“å§¿æ€æ§åˆ¶</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ¨</div>\n<div class=\"info-card-title\">Lineart</div>\n<div class=\"info-card-desc\">çº¿ç¨¿ä¸Šè‰²</div>\n</div>\n</div>\n\n### ğŸ“ æç¤ºè¯å·¥ç¨‹\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">æç¤ºè¯ç»“æ„</div>\n<div class=\"ascii-diagram\">\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      æ­£é¢æç¤ºè¯ (Positive)                   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ [è´¨é‡è¯] + [ä¸»ä½“] + [é£æ ¼] + [ç¯å¢ƒ] + [å…‰çº¿] + [ç»†èŠ‚]         â”‚\nâ”‚                                                             â”‚\nâ”‚ ç¤ºä¾‹:                                                        â”‚\nâ”‚ masterpiece, best quality,        â† è´¨é‡è¯                  â”‚\nâ”‚ 1girl, long hair, blue eyes,      â† ä¸»ä½“æè¿°                â”‚\nâ”‚ anime style, detailed,            â† é£æ ¼                    â”‚\nâ”‚ outdoor, cherry blossoms,         â† ç¯å¢ƒ                    â”‚\nâ”‚ soft lighting, golden hour,       â† å…‰çº¿                    â”‚\nâ”‚ intricate details, 8k             â† ç»†èŠ‚                    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      è´Ÿé¢æç¤ºè¯ (Negative)                   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ lowres, bad anatomy, bad hands, text, error,                â”‚\nâ”‚ missing fingers, extra digit, fewer digits, cropped,         â”‚\nâ”‚ worst quality, low quality, normal quality,                  â”‚\nâ”‚ jpeg artifacts, signature, watermark, username, blurry       â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</div>\n</div>"
            },
            "practice": {
              "title": "å®æˆ˜ä»£ç ",
              "content": "### ğŸ¨ Diffusers æ–‡ç”Ÿå›¾\n\n```python\nimport torch\nfrom diffusers import StableDiffusionXLPipeline\n\n# 1ï¸âƒ£ åŠ è½½ SDXL æ¨¡å‹\npipe = StableDiffusionXLPipeline.from_pretrained(\n    \"stabilityai/stable-diffusion-xl-base-1.0\",\n    torch_dtype=torch.float16,\n    variant=\"fp16\"\n).to(\"cuda\")\n\n# 2ï¸âƒ£ ç”Ÿæˆå›¾åƒ\nimage = pipe(\n    prompt=\"a majestic lion in the savanna, golden hour, photorealistic, 8k\",\n    negative_prompt=\"blurry, low quality, distorted\",\n    num_inference_steps=30,\n    guidance_scale=7.5,\n    width=1024,\n    height=1024,\n    generator=torch.Generator(\"cuda\").manual_seed(42)  # å›ºå®šç§å­\n).images[0]\n\n# 3ï¸âƒ£ ä¿å­˜\nimage.save(\"lion.png\")\n```\n\n### ğŸ›ï¸ åŠ è½½ LoRA\n\n```python\nfrom diffusers import StableDiffusionXLPipeline\n\npipe = StableDiffusionXLPipeline.from_pretrained(\n    \"stabilityai/stable-diffusion-xl-base-1.0\",\n    torch_dtype=torch.float16\n).to(\"cuda\")\n\n# åŠ è½½ LoRA æƒé‡\npipe.load_lora_weights(\"path/to/anime_style.safetensors\")\n\n# è°ƒæ•´ LoRA å¼ºåº¦ (0.0-1.0)\npipe.fuse_lora(lora_scale=0.8)\n\n# ç”Ÿæˆ\nimage = pipe(\n    prompt=\"è§¦å‘è¯, 1girl, beautiful anime girl\",\n    num_inference_steps=30\n).images[0]\n```\n\n### ğŸ® ControlNet æ§åˆ¶ç”Ÿæˆ\n\n```python\nimport cv2\nimport numpy as np\nfrom diffusers import StableDiffusionXLControlNetPipeline, ControlNetModel\nfrom PIL import Image\n\n# 1ï¸âƒ£ æå– Canny è¾¹ç¼˜\nimage = cv2.imread(\"input.jpg\")\nedges = cv2.Canny(image, 100, 200)\nedges_pil = Image.fromarray(edges)\n\n# 2ï¸âƒ£ åŠ è½½ ControlNet\ncontrolnet = ControlNetModel.from_pretrained(\n    \"diffusers/controlnet-canny-sdxl-1.0\",\n    torch_dtype=torch.float16\n)\n\n# 3ï¸âƒ£ åˆ›å»º Pipeline\npipe = StableDiffusionXLControlNetPipeline.from_pretrained(\n    \"stabilityai/stable-diffusion-xl-base-1.0\",\n    controlnet=controlnet,\n    torch_dtype=torch.float16\n).to(\"cuda\")\n\n# 4ï¸âƒ£ ç”Ÿæˆ\nresult = pipe(\n    prompt=\"beautiful anime girl, colorful, detailed\",\n    negative_prompt=\"ugly, blurry\",\n    image=edges_pil,\n    controlnet_conditioning_scale=0.8,  # æ§åˆ¶å¼ºåº¦\n    num_inference_steps=30\n).images[0]\n\nresult.save(\"controlled_output.png\")\n```"
            }
          }
        }
      ]
    },
    {
      "id": "deployment",
      "name": "éƒ¨ç½²ä¸ä¼˜åŒ–",
      "icon": "ğŸš€",
      "chapters": [
        {
          "id": "optimization",
          "title": "æ¨¡å‹ä¼˜åŒ–",
          "icon": "âš¡",
          "sections": {
            "terminology": {
              "title": "ä¸“ä¸šæœ¯è¯­",
              "items": [
                {"term": "é‡åŒ–", "english": "Quantization", "desc": "é™ä½æ•°å€¼ç²¾åº¦å‡å°æ¨¡å‹ä½“ç§¯"},
                {"term": "å‰ªæ", "english": "Pruning", "desc": "ç§»é™¤ä¸é‡è¦çš„æƒé‡"},
                {"term": "çŸ¥è¯†è’¸é¦", "english": "Knowledge Distillation", "desc": "å¤§æ¨¡å‹æ•™å°æ¨¡å‹"},
                {"term": "æ··åˆç²¾åº¦", "english": "Mixed Precision", "desc": "åŒæ—¶ä½¿ç”¨FP16å’ŒFP32"},
                {"term": "ç®—å­èåˆ", "english": "Operator Fusion", "desc": "åˆå¹¶å¤šä¸ªæ“ä½œå‡å°‘å¼€é”€"}
              ]
            },
            "basic": {
              "title": "åŸºç¡€æ¦‚å¿µ",
              "content": "### ğŸ“Š é‡åŒ–çº§åˆ«å¯¹æ¯”\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">ç²¾åº¦ä¸ä½“ç§¯å…³ç³»</div>\n<div class=\"ascii-diagram\">\nç²¾åº¦ç±»å‹    ä½æ•°    ç›¸å¯¹ä½“ç§¯    è´¨é‡æŸå¤±\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nFP32        32ä½    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    æ— æŸå¤±\n                    100%\n\nFP16        16ä½    â–ˆâ–ˆâ–ˆâ–ˆ        æå°\n                    50%\n\nINT8         8ä½    â–ˆâ–ˆ          å°\n                    25%\n\nINT4         4ä½    â–ˆ           ä¸­ç­‰\n                    12.5%\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n7B æ¨¡å‹ä½“ç§¯ä¼°ç®—:\nFP32: ~28GB\nFP16: ~14GB\nINT8: ~7GB\nINT4: ~3.5GB\n</div>\n</div>\n\n<div class=\"info-grid\">\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ¯</div>\n<div class=\"info-card-title\">GPTQ</div>\n<div class=\"info-card-desc\">GPUå‹å¥½ï¼Œè´¨é‡å¥½</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">âš¡</div>\n<div class=\"info-card-title\">AWQ</div>\n<div class=\"info-card-desc\">æ¿€æ´»æ„ŸçŸ¥ï¼Œæ›´å‡†ç¡®</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ’»</div>\n<div class=\"info-card-title\">GGUF</div>\n<div class=\"info-card-desc\">CPUå‹å¥½ï¼Œé€šç”¨æ€§å¼º</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ”§</div>\n<div class=\"info-card-title\">bitsandbytes</div>\n<div class=\"info-card-desc\">HFé›†æˆï¼Œç®€å•æ˜“ç”¨</div>\n</div>\n</div>\n\n### ğŸ”§ ä¼˜åŒ–æŠ€æœ¯æ ˆ\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">æ¨ç†ä¼˜åŒ–å±‚æ¬¡</div>\n<div class=\"ascii-diagram\">\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                       æ¨¡å‹å±‚é¢ä¼˜åŒ–                           â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚\nâ”‚  â”‚    é‡åŒ–     â”‚  â”‚    å‰ªæ     â”‚  â”‚  çŸ¥è¯†è’¸é¦   â”‚         â”‚\nâ”‚  â”‚  INT8/INT4  â”‚  â”‚ ç¨€ç–åŒ–æƒé‡  â”‚  â”‚ å¤§â†’å°æ¨¡å‹   â”‚         â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                              â”‚\n                              â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                       è®¡ç®—å±‚é¢ä¼˜åŒ–                           â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚\nâ”‚  â”‚Flash Attn   â”‚  â”‚  KV Cache   â”‚  â”‚  ç®—å­èåˆ   â”‚         â”‚\nâ”‚  â”‚ IOä¼˜åŒ–æ³¨æ„åŠ›â”‚  â”‚ ç¼“å­˜å†å²KV  â”‚  â”‚ åˆå¹¶å°æ“ä½œ  â”‚         â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                              â”‚\n                              â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                       ç³»ç»Ÿå±‚é¢ä¼˜åŒ–                           â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚\nâ”‚  â”‚  å¼ é‡å¹¶è¡Œ   â”‚  â”‚ æµæ°´çº¿å¹¶è¡Œ  â”‚  â”‚PagedAttentionâ”‚        â”‚\nâ”‚  â”‚ å¤šGPUåˆ†å‰²   â”‚  â”‚ å¤šGPUæµæ°´   â”‚  â”‚ åŠ¨æ€å†…å­˜åˆ†é… â”‚        â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</div>\n</div>"
            },
            "advanced": {
              "title": "è¿›é˜¶çŸ¥è¯†",
              "content": "### ğŸ’¾ KV Cache è¯¦è§£\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">KV Cache å·¥ä½œåŸç†</div>\n<div class=\"ascii-diagram\">\né—®é¢˜: ç”Ÿæˆç¬¬ N ä¸ª token æ—¶ï¼Œéœ€è¦å¯¹æ‰€æœ‰å†å² token è®¡ç®—æ³¨æ„åŠ›\n\næ²¡æœ‰ KV Cache:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ ç”Ÿæˆ token 1: è®¡ç®— Kâ‚, Vâ‚             â”‚\nâ”‚ ç”Ÿæˆ token 2: é‡æ–°è®¡ç®— Kâ‚Kâ‚‚, Vâ‚Vâ‚‚      â”‚ â† é‡å¤è®¡ç®—!\nâ”‚ ç”Ÿæˆ token 3: é‡æ–°è®¡ç®— Kâ‚Kâ‚‚Kâ‚ƒ, Vâ‚Vâ‚‚Vâ‚ƒ  â”‚ â† æµªè´¹!\nâ”‚ ...                                   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\næœ‰ KV Cache:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ ç”Ÿæˆ token 1: è®¡ç®—å¹¶ç¼“å­˜ Kâ‚, Vâ‚        â”‚\nâ”‚                [Kâ‚] [Vâ‚]              â”‚\nâ”‚                                       â”‚\nâ”‚ ç”Ÿæˆ token 2: åªè®¡ç®— Kâ‚‚, Vâ‚‚            â”‚\nâ”‚                [Kâ‚, Kâ‚‚] [Vâ‚, Vâ‚‚]      â”‚ â† è¿½åŠ åˆ°ç¼“å­˜\nâ”‚                                       â”‚\nâ”‚ ç”Ÿæˆ token 3: åªè®¡ç®— Kâ‚ƒ, Vâ‚ƒ            â”‚\nâ”‚                [Kâ‚, Kâ‚‚, Kâ‚ƒ] [...]     â”‚ â† ç»§ç»­è¿½åŠ \nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nå†…å­˜å ç”¨å…¬å¼:\nKV Cache = 2 Ã— num_layers Ã— seq_len Ã— hidden_dim Ã— 2 bytes (FP16)\n\nç¤ºä¾‹ (7B æ¨¡å‹, 2048 seq_len):\n= 2 Ã— 32 Ã— 2048 Ã— 4096 Ã— 2 â‰ˆ 1GB\n</div>\n</div>\n\n### ğŸš€ æ¨ç†æ¡†æ¶å¯¹æ¯”\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>âš¡ vLLM</h4>\n<ul>\n<li>PagedAttention</li>\n<li>è¿ç»­æ‰¹å¤„ç†</li>\n<li>é«˜ååé‡</li>\n<li>OpenAIå…¼å®¹API</li>\n</ul>\n</div>\n<div class=\"comparison-card orange\">\n<h4>ğŸ¤— TGI</h4>\n<ul>\n<li>HuggingFaceå®˜æ–¹</li>\n<li>Flash Attention</li>\n<li>é‡åŒ–æ”¯æŒ</li>\n<li>ç”Ÿäº§å°±ç»ª</li>\n</ul>\n</div>\n<div class=\"comparison-card purple\">\n<h4>ğŸ¦™ Ollama</h4>\n<ul>\n<li>ç®€å•æ˜“ç”¨</li>\n<li>æœ¬åœ°éƒ¨ç½²</li>\n<li>GGUFæ ¼å¼</li>\n<li>è·¨å¹³å°</li>\n</ul>\n</div>\n</div>"
            },
            "practice": {
              "title": "å®æˆ˜ä»£ç ",
              "content": "### ğŸ”§ bitsandbytes 4-bit é‡åŒ–\n\n```python\nimport torch\nfrom transformers import AutoModelForCausalLM, AutoTokenizer, BitsAndBytesConfig\n\n# é…ç½® 4-bit é‡åŒ–\nbnb_config = BitsAndBytesConfig(\n    load_in_4bit=True,\n    bnb_4bit_quant_type=\"nf4\",           # NormalFloat4\n    bnb_4bit_compute_dtype=torch.bfloat16,\n    bnb_4bit_use_double_quant=True        # äºŒæ¬¡é‡åŒ–ï¼Œè¿›ä¸€æ­¥å‹ç¼©\n)\n\n# åŠ è½½é‡åŒ–æ¨¡å‹\nmodel = AutoModelForCausalLM.from_pretrained(\n    \"Qwen/Qwen2.5-7B-Instruct\",\n    quantization_config=bnb_config,\n    device_map=\"auto\"\n)\n\ntokenizer = AutoTokenizer.from_pretrained(\"Qwen/Qwen2.5-7B-Instruct\")\n\n# æµ‹è¯•\ninputs = tokenizer(\"Hello, how are you?\", return_tensors=\"pt\").to(model.device)\noutputs = model.generate(**inputs, max_new_tokens=50)\nprint(tokenizer.decode(outputs[0]))\n```\n\n### âš¡ vLLM é«˜æ€§èƒ½æ¨ç†\n\n```python\nfrom vllm import LLM, SamplingParams\n\n# åˆå§‹åŒ–æ¨¡å‹\nllm = LLM(\n    model=\"Qwen/Qwen2.5-7B-Instruct\",\n    tensor_parallel_size=1,       # GPUæ•°é‡\n    gpu_memory_utilization=0.9,   # æ˜¾å­˜ä½¿ç”¨ç‡\n    max_model_len=4096            # æœ€å¤§åºåˆ—é•¿åº¦\n)\n\n# é‡‡æ ·å‚æ•°\nparams = SamplingParams(\n    temperature=0.7,\n    top_p=0.9,\n    max_tokens=512\n)\n\n# æ‰¹é‡æ¨ç† (vLLM ä¼šè‡ªåŠ¨ä¼˜åŒ–æ‰¹å¤„ç†)\nprompts = [\n    \"ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ\",\n    \"Pythonå’ŒJavaçš„åŒºåˆ«ï¼Ÿ\",\n    \"å¦‚ä½•å­¦ä¹ ç¼–ç¨‹ï¼Ÿ\"\n]\n\noutputs = llm.generate(prompts, params)\n\nfor output in outputs:\n    print(f\"é—®: {output.prompt}\")\n    print(f\"ç­”: {output.outputs[0].text}\\n\")\n```\n\n### ğŸ¦™ llama.cpp é‡åŒ–éƒ¨ç½²\n\n```bash\n# 1ï¸âƒ£ ä¸‹è½½æ¨¡å‹å¹¶è½¬æ¢ä¸º GGUF\npython convert_hf_to_gguf.py ./model_dir --outtype f16\n\n# 2ï¸âƒ£ é‡åŒ– (Q4_K_M æ˜¯è´¨é‡å’Œå¤§å°çš„å¹³è¡¡ç‚¹)\n./quantize model.gguf model-q4_k_m.gguf q4_k_m\n\n# 3ï¸âƒ£ è¿è¡Œæ¨ç†\n./llama-cli \\\n    -m model-q4_k_m.gguf \\\n    -p \"ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±\" \\\n    -n 256 \\\n    --temp 0.7 \\\n    --ctx-size 4096\n\n# 4ï¸âƒ£ å¯åŠ¨ API æœåŠ¡å™¨\n./llama-server \\\n    -m model-q4_k_m.gguf \\\n    --host 0.0.0.0 \\\n    --port 8080\n```"
            }
          }
        },
        {
          "id": "serving",
          "title": "æ¨¡å‹éƒ¨ç½²",
          "icon": "ğŸŒ",
          "sections": {
            "terminology": {
              "title": "ä¸“ä¸šæœ¯è¯­",
              "items": [
                {"term": "æ¨ç†æœåŠ¡", "english": "Inference Serving", "desc": "æä¾›æ¨¡å‹æ¨ç†çš„æœåŠ¡"},
                {"term": "APIç½‘å…³", "english": "API Gateway", "desc": "ç®¡ç†å’Œè·¯ç”±APIè¯·æ±‚"},
                {"term": "è´Ÿè½½å‡è¡¡", "english": "Load Balancing", "desc": "åˆ†å‘è¯·æ±‚åˆ°å¤šä¸ªå®ä¾‹"},
                {"term": "è‡ªåŠ¨æ‰©ç¼©", "english": "Auto Scaling", "desc": "æ ¹æ®è´Ÿè½½è‡ªåŠ¨è°ƒæ•´å®ä¾‹æ•°"},
                {"term": "å®¹å™¨åŒ–", "english": "Containerization", "desc": "ä½¿ç”¨Dockeræ‰“åŒ…åº”ç”¨"}
              ]
            },
            "basic": {
              "title": "åŸºç¡€æ¦‚å¿µ",
              "content": "### ğŸ—ï¸ éƒ¨ç½²æ¶æ„\n\n<div class=\"diagram\">\n<div class=\"diagram-title\">ç”Ÿäº§çº§LLMæœåŠ¡æ¶æ„</div>\n<div class=\"ascii-diagram\">\n                        å®¢æˆ·ç«¯è¯·æ±‚\n                            â”‚\n                            â–¼\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚   API ç½‘å…³    â”‚\n                    â”‚  (Nginx/Kong) â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â”‚\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚   è´Ÿè½½å‡è¡¡    â”‚\n                    â”‚ (Round Robin) â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â”‚\n            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n            â”‚               â”‚               â”‚\n            â–¼               â–¼               â–¼\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n    â”‚   vLLM å®ä¾‹1  â”‚ â”‚   vLLM å®ä¾‹2  â”‚ â”‚   vLLM å®ä¾‹3  â”‚\n    â”‚    (GPU 0)    â”‚ â”‚    (GPU 1)    â”‚ â”‚    (GPU 2)    â”‚\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n            â”‚               â”‚               â”‚\n            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â”‚\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚   æ¨¡å‹å­˜å‚¨    â”‚\n                    â”‚  (S3 / OSS)   â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</div>\n</div>\n\n### ğŸ“Š éƒ¨ç½²æ–¹å¼å¯¹æ¯”\n\n<div class=\"comparison-cards\">\n<div class=\"comparison-card green\">\n<h4>ğŸ–¥ï¸ æœ¬åœ°éƒ¨ç½²</h4>\n<ul>\n<li>âœ“ ç®€å•å¿«é€Ÿ</li>\n<li>âœ“ å®Œå…¨æ§åˆ¶</li>\n<li>âœ— ä¸å¯æ‰©å±•</li>\n<li>âœ— è¿ç»´æˆæœ¬</li>\n</ul>\n</div>\n<div class=\"comparison-card orange\">\n<h4>ğŸ³ Docker</h4>\n<ul>\n<li>âœ“ ç¯å¢ƒä¸€è‡´</li>\n<li>âœ“ æ˜“äºè¿ç§»</li>\n<li>âœ“ èµ„æºéš”ç¦»</li>\n<li>âœ— éœ€è¦ç¼–æ’</li>\n</ul>\n</div>\n<div class=\"comparison-card purple\">\n<h4>â˜¸ï¸ Kubernetes</h4>\n<ul>\n<li>âœ“ è‡ªåŠ¨æ‰©ç¼©</li>\n<li>âœ“ é«˜å¯ç”¨</li>\n<li>âœ“ ç”Ÿäº§çº§åˆ«</li>\n<li>âœ— å­¦ä¹ æˆæœ¬</li>\n</ul>\n</div>\n</div>"
            },
            "advanced": {
              "title": "è¿›é˜¶çŸ¥è¯†",
              "content": "### ğŸ“ˆ å…³é”®ç›‘æ§æŒ‡æ ‡\n\n<div class=\"info-grid\">\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ“Š</div>\n<div class=\"info-card-title\">QPS</div>\n<div class=\"info-card-desc\">æ¯ç§’è¯·æ±‚æ•°</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">â±ï¸</div>\n<div class=\"info-card-title\">TTFT</div>\n<div class=\"info-card-desc\">é¦–tokenæ—¶é—´</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸš€</div>\n<div class=\"info-card-title\">TPS</div>\n<div class=\"info-card-desc\">æ¯ç§’tokenæ•°</div>\n</div>\n<div class=\"info-card\">\n<div class=\"info-card-icon\">ğŸ’¾</div>\n<div class=\"info-card-title\">GPUåˆ©ç”¨ç‡</div>\n<div class=\"info-card-desc\">æ˜¾å­˜å’Œè®¡ç®—</div>\n</div>\n</div>\n\n### ğŸ’° æˆæœ¬ä¼˜åŒ–ç­–ç•¥\n\n<div class=\"progress-visual\">\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>æ¨¡å‹é‡åŒ–</span><span>èŠ‚çœ 50-75%</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill green\" style=\"width:75%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>Spot å®ä¾‹</span><span>èŠ‚çœ 60-70%</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill blue\" style=\"width:70%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>æ‰¹å¤„ç†ä¼˜åŒ–</span><span>æå‡ 2-3x</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill orange\" style=\"width:60%\"></div></div>\n</div>\n<div class=\"progress-item\">\n<div class=\"progress-label\"><span>æ™ºèƒ½è·¯ç”±</span><span>èŠ‚çœ 30-40%</span></div>\n<div class=\"progress-bar-bg\"><div class=\"progress-bar-fill purple\" style=\"width:40%\"></div></div>\n</div>\n</div>"
            },
            "practice": {
              "title": "å®æˆ˜ä»£ç ",
              "content": "### ğŸ³ Docker éƒ¨ç½²\n\n```dockerfile\n# Dockerfile\nFROM nvidia/cuda:12.1-runtime-ubuntu22.04\n\n# å®‰è£…ä¾èµ–\nRUN pip install vllm fastapi uvicorn\n\n# å¤åˆ¶ä»£ç \nCOPY app.py /app/\nWORKDIR /app\n\n# æš´éœ²ç«¯å£\nEXPOSE 8000\n\n# å¯åŠ¨å‘½ä»¤\nCMD [\"python\", \"-m\", \"vllm.entrypoints.openai.api_server\", \\\n     \"--model\", \"Qwen/Qwen2.5-7B-Instruct\", \\\n     \"--host\", \"0.0.0.0\", \\\n     \"--port\", \"8000\"]\n```\n\n```bash\n# æ„å»º\ndocker build -t llm-service .\n\n# è¿è¡Œ\ndocker run --gpus all -p 8000:8000 llm-service\n```\n\n### â˜¸ï¸ Kubernetes éƒ¨ç½²\n\n```yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: llm-service\nspec:\n  replicas: 3  # 3ä¸ªå‰¯æœ¬\n  selector:\n    matchLabels:\n      app: llm\n  template:\n    metadata:\n      labels:\n        app: llm\n    spec:\n      containers:\n      - name: vllm\n        image: vllm/vllm-openai:latest\n        resources:\n          limits:\n            nvidia.com/gpu: 1  # æ¯ä¸ªPodä¸€å—GPU\n        args:\n          - --model=Qwen/Qwen2.5-7B-Instruct\n          - --port=8000\n        ports:\n          - containerPort: 8000\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: llm-service\nspec:\n  selector:\n    app: llm\n  ports:\n    - port: 80\n      targetPort: 8000\n  type: LoadBalancer\n```\n\n### ğŸ”§ Nginx è´Ÿè½½å‡è¡¡\n\n```nginx\n# /etc/nginx/nginx.conf\nupstream llm_backend {\n    least_conn;  # æœ€å°‘è¿æ¥ç­–ç•¥\n    server llm1:8000 weight=1;\n    server llm2:8000 weight=1;\n    server llm3:8000 weight=1;\n}\n\nserver {\n    listen 80;\n    \n    location /v1/ {\n        proxy_pass http://llm_backend;\n        proxy_http_version 1.1;\n        proxy_set_header Connection '';\n        proxy_read_timeout 300s;  # LLMå“åº”å¯èƒ½è¾ƒæ…¢\n        proxy_buffering off;      # æ”¯æŒæµå¼å“åº”\n    }\n}\n```"
            }
          }
        }
      ]
    }
  ]
}
